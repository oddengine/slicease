slicease=function(){if(slicease.api)return slicease.api.getInstance.apply(this,arguments)};slicease.version="3.0.00";
(function(b){var d=b.utils={};d.exists=function(a){switch(d.typeOf(a)){case "string":return 0<a.length;case "object":return null!==a;case "null":return!1}return!0};d.extend=function(){var a=Array.prototype.slice.call(arguments,0),k=a[0];if(1<a.length)for(var e=1;e<a.length;e++)d.foreach(a[e],function(f,c){void 0!==c&&null!==c&&(k[f]=c)});return k};d.foreach=function(a,k){for(var e in a)a.hasOwnProperty&&"function"===d.typeOf(a.hasOwnProperty)?a.hasOwnProperty(e)&&k(e,a[e]):k(e,a[e])};d.getCookie=
function(a){var d;return(d=document.cookie.match(new RegExp("(^| )"+a+"=([^;]*)(;|$)")))?unescape(d[2]):null};d.formatTime=function(a){var k=a.getHours()+1,e=a.getMinutes(),f=a.getSeconds();return a.toLocaleDateString()+" "+d.pad(k,2)+":"+d.pad(e,2)+":"+d.pad(f,2)};d.pad=function(a,d){for(a+="";a.length<d;)a="0"+a;return a};d.createElement=function(a,d){a=document.createElement(a);d&&(a.className=d);return a};d.addClass=function(a,b){var e="string"===d.typeOf(a.className)?a.className.split(" "):[];
b="array"===d.typeOf(b)?b:b.split(" ");d.foreach(b,function(f,c){-1===d.indexOf(e,c)&&e.push(c)});a.className=d.trim(e.join(" "))};d.removeClass=function(a,b){var e="string"===d.typeOf(a.className)?a.className.split(" "):[];b="array"===d.typeOf(b)?b:b.split(" ");d.foreach(b,function(f,c){f=d.indexOf(e,c);0<=f&&e.splice(f,1)});a.className=d.trim(e.join(" "))};d.emptyElement=function(a){for(;a.firstChild;)a.removeChild(a.firstChild)};d.typeOf=function(a){if(null===a||void 0===a)return"null";var d=typeof a;
if("object"===d)try{if("[object Array]"===toString.call(a))return"array"}catch(e){}return d};d.trim=function(a){return a.replace(/^\s+|\s+$/g,"")};d.indexOf=function(a,d){if(null==a)return-1;for(var e=0;e<a.length;e++)if(a[e]===d)return e;return-1};d.isMSIE=function(a){return a?(a=parseFloat(a).toFixed(1),a=new RegExp("msie\\s*"+a,"i"),null!==navigator.userAgent.toLowerCase().match(a)):null!==navigator.userAgent.toLowerCase().match(/msie/i)};var h=window.console=window.console||{log:function(){}};
d.log=function(){var a=Array.prototype.slice.call(arguments,0);"object"===d.typeOf(h.log)?h.log(a):h.log.apply(h,a)}})(slicease);
(function(b){function d(){var a=document.createElement("style");a.type="text/css";document.getElementsByTagName("head")[0].appendChild(a);return a.sheet||a.styleSheet}var h=b.utils,a;(h.css=function(b,e){a||(a=d());var f="";h.foreach(e,function(c,a){f+=c+": "+a+"; "});try{a.insertRule?a.insertRule(b+" { "+f+"}",a.cssRules.length):a.addRule(b,f,a.rules.length)}catch(c){h.log("Failed to insert css rule: "+b)}}).style=function(a,d,f){if(void 0!==a&&null!==a)for(void 0===a.length&&(a=[a]),d=h.extend({},
d),f=0;f<a.length;f++){var c=a[f];void 0!==c&&null!==c&&h.foreach(d,function(a,f){a=a.split("-");for(var d=1;d<a.length;d++)a[d]=a[d].charAt(0).toUpperCase()+a[d].slice(1);a=a.join("");c.style[a]!==f&&(c.style[a]=f)})}}})(slicease);
(function(b){b.events={ERROR:"error",SLICEASE_READY:"sliceaseReady",SLICEASE_SETUP_ERROR:"sliceaseSetupError",SLICEASE_RENDER_ERROR:"sliceaseRenderError",SLICEASE_STATE:"sliceaseState",SLICEASE_VIEW_PLAY:"sliceaseViewPlay",SLICEASE_VIEW_STOP:"sliceaseViewStop",SLICEASE_VIEW_PREV:"sliceaseViewPrev",SLICEASE_VIEW_NEXT:"sliceaseViewNext",SLICEASE_RENDER_UPDATE_START:"sliceaseRenderUpdateStart",SLICEASE_RENDER_UPDATE_END:"sliceaseRenderUpdateEnd",SLICEASE_RESIZE:"sliceaseResize",SLICEASE_PROGRESS:"sliceaseProgress",
SLICEASE_COMPLETE:"sliceaseComplete",SLICEASE_TIMER:"sliceaseTimer",SLICEASE_TIMER_COMPLETE:"sliceaseTimerComplete"}})(slicease);
(function(b){var d=b.utils;b.events.eventdispatcher=function(h){function a(a,c,b){if(a)for(var f=0;f<a.length;f++){var e=a[f];if(e){null!==e.count&&0===--e.count&&delete a[f];try{e.listener(c)}catch(u){d.log('Error handling "'+b+'" event listener ['+f+"]: "+u.toString(),e.listener,c)}}}}var k={},e=[];this.addEventListener=function(a,c,e){try{d.exists(k[a])||(k[a]=[]),"string"===d.typeOf(c)&&(c=(new Function("return "+c))()),k[a].push({listener:c,count:e||null})}catch(l){d.log("error",l)}return!1};
this.removeEventListener=function(a,c){if(k[a]){try{if(void 0===c){k[a]=[];return}var e;for(e=0;e<k[a].length;e++)if(k[a][e].listener.toString()===c.toString()){k[a].splice(e,1);break}}catch(l){d.log("error",l)}return!1}};this.addGlobalListener=function(a,c){try{"string"===d.typeOf(a)&&(a=(new Function("return "+a))()),e.push({listener:a,count:c||null})}catch(p){d.log("error",p)}return!1};this.removeGlobalListener=function(a){if(a){try{var c;for(c=e.length-1;0<=c;c--)e[c].listener.toString()===a.toString()&&
e.splice(c,1)}catch(p){d.log("error",p)}return!1}};this.dispatchEvent=function(f,c){c||(c={});d.extend(c,{id:h,version:b.version,type:f});b.debug&&d.log(f,c);a(k[f],c,f);a(e,c,f)}}})(slicease);
(function(b){var d=b.utils,h=b.events;d.imageloader=function(){function a(a){a=a.target;f=!1;e.dispatchEvent(h.SLICEASE_COMPLETE,{data:a,src:a.src})}function b(a){a=a.target;f=!1;e.dispatchEvent(h.ERROR,{message:"Failed to load image "+a.src+".",src:a.src})}var e=d.extend(this,new h.eventdispatcher("utils.imageloader")),f,c;e.load=function(d){c=new Image;c.onload=a;c.onabort=b;c.onerror=b;f=!0;c.src=d};e.stop=function(){f&&(c=c.onload=c.onabort=c.onerror=null);f=!1};e.loading=function(){return f};
f=!1}})(slicease);
(function(b){var d=b.utils,h=b.events;d.timer=function(a,b){function e(){k++;f.dispatchEvent(h.SLICEASE_TIMER);0<f.repeatCount&&k>=f.repeatCount&&(f.stop(),f.dispatchEvent(h.SLICEASE_TIMER_COMPLETE))}var f=d.extend(this,new h.eventdispatcher("utils.timer")),c,k=0,l=!1;f.start=function(){!1===l&&(c=setInterval(e,f.delay),l=!0)};f.stop=function(){l&&(clearInterval(c),c=0,l=!1)};f.reset=function(){f.stop();k=0};f.currentCount=function(){return k};f.running=function(){return l};f.delay=a||50;f.repeatCount=
b||0}})(slicease);
(function(b){var d=b.utils,h=b.events,a={},k={onError:h.ERROR,onReady:h.SLICEASE_READY,onState:h.SLICEASE_STATE,onResize:h.SLICEASE_RESIZE};b.api=function(a){function e(a){c.dispatchEvent(a.type,a)}var c=d.extend(this,new h.eventdispatcher("api")),p;c.container=a;c.id=a.id;c.setup=function(a){d.emptyElement(c.container);b.debug=!!a.debug;c.config=a;c.config.id=c.id;c.embedder=new b.embed(c);c.embedder.addGlobalListener(e);c.embedder.embed();return c};c.setEntity=function(a,d){p=a;c.renderName=d;c.play=
p.play;c.stop=p.stop;c.prev=p.prev;c.next=p.next;c.getState=p.getState;c.resize=p.resize};(function(){d.foreach(k,function(a,d){c[a]=function(a){c.addEventListener(d,a)}})})()};b.api.getInstance=function(e){var f;null==e?e=0:e.nodeType?f=e:"string"===d.typeOf(e)&&(f=document.getElementById(e));if(f){var c=a[f.id];c||(a[e]=c=new b.api(f));return c}return"number"===d.typeOf(e)?a[e]:null};b.api.displayError=function(a,d){}})(slicease);
(function(b){var d=b.utils,h={LINEAR:"linear",EASE:"ease",EASE_IN:"ease-in",EASE_OUT:"ease-out",EASE_IN_OUT:"ease-in-out",ELASTIC:"elastic",WAVES_IN:"waves-in",CUBIC_BEZIER:"cubic-bezier"},a={linear:[0,0,1,1],ease:[.25,.1,.25,1],"ease-in":[.42,0,1,1],"ease-out":[0,0,.58,1],"ease-in-out":[.42,0,.58,1],elastic:[.42,2,.58,2],"waves-in":[.42,1,.58,1]},k={NORMAL:"normal",ALTERNATE:"alternate"};b.animation=function(e){function b(a,c){if("array"!=d.typeOf(a)||4>a.length)throw"Failed to shrink bezier points: Bad array!";
for(var e=[],f=0;f<a.length;f++){var h=a[f++],k=a[f++],p=a[f++],m=a[f];e.push(h+(p-h)*c);e.push(k+(m-k)*c)}2<e.length&&(e=b(e,c));return e}var c=this,p={duration:0,timingfunction:h.EASE,delay:0,iterationcount:1,direction:k.NORMAL,points:void 0,factor:.2},l,r,u;c.ease=function(a){if(0>=c.config.duration)return u[u.length-1];if(a<=c.config.delay)return u[1];a-=c.config.delay;var d=Math.ceil((a?a:1)/c.config.duration);if(-1!=c.config.iterationcount&&a>=c.config.iterationcount*c.config.duration)return c.config.direction==
k.ALTERNATE&&1==c.config.iterationcount%2?u[u.length-1]:u[1];var e=a%c.config.duration/c.config.duration;c.config.direction!=k.ALTERNATE||0!=d%2&&a!=c.config.duration||(e=1-e);a=b(u,e);c.config.timingfunction==h.ELASTIC&&2<d&&(a[1]*=1-c.config.factor^Math.ceil((d-2)/2));return a[1]};(function(){c.config=d.extend({},p,e);l=[0,0];r=[1,1];var b=[];switch(c.config.timingfunction){case h.WAVES_IN:c.config.direction=k.ALTERNATE;case h.ELASTIC:r=[1,0];case h.LINEAR:case h.EASE:case h.EASE_IN:case h.EASE_OUT:case h.EASE_IN_OUT:b=
a[c.config.timingfunction];break;case h.CUBIC_BEZIER:c.config.points&&(b=c.config.points)}u=l.concat(b,r)})()};b.animation.timingfunctions=h;b.animation.directions=k})(slicease);(function(b){b.core={}})(slicease);(function(b){b.core.states={IDLE:"idle",PLAYING:"playing",STOPPED:"stopped",ERROR:"error"}})(slicease);(function(b){b.core.renders={};b.core.renders.precisions={HIGH_P:"highp",MEDIUM_P:"mediump",LOW_P:"lowp"}})(slicease);(function(b){b.core.renders.modes={DEFAULT:"def"}})(slicease);
(function(b){var d=b.utils,h=b.events,a=b.animation;b=b.core.renders;var k=b.modes,e="attribute vec3 aVertexPosition;attribute vec2 aTextureCoord;uniform mat4 uModelViewMatrix;uniform mat4 uProjectionMatrix;varying [precision] vec2 vTextureCoord;void main() { gl_Position = uProjectionMatrix * uModelViewMatrix * vec4(aVertexPosition, 1.0); vTextureCoord = aTextureCoord;}",f="varying [precision] vec2 vTextureCoord;uniform sampler2D uSampler;void main() { gl_FragColor = texture2D(uSampler, vec2(vTextureCoord.s, vTextureCoord.t));}";
b.def=function(c,b){function p(a){return 0>=a?!1:0===(a-1&a)}function r(){B=x[0]+Math.round(Math.random()*(x[1]-x[0]));m.dispatchEvent(h.SLICEASE_RENDER_UPDATE_START,{pieces:B});n||(n=new d.timer(15),n.addEventListener(h.SLICEASE_TIMER,u));n.reset();n.start()}function u(a){g.clear(g.COLOR_BUFFER_BIT|g.DEPTH_BUFFER_BIT);for(a=0;a<B;a++){var c,d=a,e=B,b=5/e;c=[-b,2,2,-b,-2,2,b,-2,2,b,2,2,-b,-2,-2,-b,2,-2,b,2,-2,b,-2,-2,-b,2,-2,-b,2,2,b,2,2,b,2,-2,-b,-2,2,-b,-2,-2,b,-2,-2,b,-2,2,-b,2,-2,-b,-2,-2,-b,
-2,2,-b,2,2,b,2,2,b,-2,2,b,-2,-2,b,2,-2];g.bindBuffer(g.ARRAY_BUFFER,J);g.bufferData(g.ARRAY_BUFFER,new Float32Array(c),g.STATIC_DRAW);g.vertexAttribPointer(G,3,g.FLOAT,!1,0,0);var f=1/e;c=d*f;f*=d+1;c=[c,0,c,1,f,1,f,0,c,0,c,1,f,1,f,0,c,0,c,1,f,1,f,0,c,0,c,1,f,1,f,0,c,0,c,1,f,1,f,0,c,0,c,1,f,1,f,0];g.bindBuffer(g.ARRAY_BUFFER,K);g.bufferData(g.ARRAY_BUFFER,new Float32Array(c),g.STATIC_DRAW);g.vertexAttribPointer(H,2,g.FLOAT,!1,0,0);g.bindBuffer(g.ELEMENT_ARRAY_BUFFER,I);g.bufferData(g.ELEMENT_ARRAY_BUFFER,
new Uint16Array([0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23]),g.STATIC_DRAW);0<=q&&(c=g["TEXTURE"+q],g.activeTexture(c),g.bindTexture(g.TEXTURE_2D,A[q]),g.uniform1i(g.getUniformLocation(y,"uSampler"),q));g.activeTexture(g["TEXTURE"+v]);g.bindTexture(g.TEXTURE_2D,A[v]);g.uniform1i(g.getUniformLocation(y,"uSampler"),v);g.bindBuffer(g.ELEMENT_ARRAY_BUFFER,I);E.config.delay=F.config.delay=200*d;e=(1-e+2*d)*b;b=-10*E.ease(n.currentCount()*n.delay);c=F.ease(n.currentCount()*
n.delay)*Math.PI/2;d=mat4.create();mat4.lookAt(d,[0,0,12],[0,0,0],[0,1,0]);mat4.translate(d,d,[e,0,b]);mat4.rotateX(d,d,c);e=g.getUniformLocation(y,"uModelViewMatrix");g.uniformMatrix4fv(e,!1,d);d=mat4.create();mat4.perspective(d,Math.PI/6,w.width/w.height,.1,100);e=g.getUniformLocation(y,"uProjectionMatrix");g.uniformMatrix4fv(e,!1,d);g.drawElements(g.TRIANGLES,36,g.UNSIGNED_SHORT,0)}n.currentCount()*n.delay>=1200+200*(B-1)&&(n&&n.stop(),t=!1,m.dispatchEvent(h.SLICEASE_RENDER_UPDATE_END))}var m=
d.extend(this,new h.eventdispatcher("renders.def")),t=!1,q=-1,v=-1,x,B,z,n,A,E,F,w,g,y,C,D,G,H,J,K,I;m.setup=function(){x=m.config.range.split("-");x[0]=parseInt(x[0]);x[1]=parseInt(x[1]||x[0]);A=Array(m.config.sources.length);D=g.createShader(g.VERTEX_SHADER);g.shaderSource(D,e);g.compileShader(D);g.getShaderParameter(D,g.COMPILE_STATUS)?(C=g.createShader(g.FRAGMENT_SHADER),g.shaderSource(C,f),g.compileShader(C),g.getShaderParameter(C,g.COMPILE_STATUS)?(y=g.createProgram(),g.attachShader(y,D),g.attachShader(y,
C),g.linkProgram(y),g.getProgramParameter(y,g.LINK_STATUS)?(g.useProgram(y),G=g.getAttribLocation(y,"aVertexPosition"),g.enableVertexAttribArray(G),H=g.getAttribLocation(y,"aTextureCoord"),g.enableVertexAttribArray(H)):m.dispatchEvent(h.SLICEASE_RENDER_ERROR,{message:"Failed to create WebGLProgram."})):(d.log(g.getShaderInfoLog(C)),m.dispatchEvent(h.SLICEASE_RENDER_ERROR,{message:"Failed to compile fragment shader."}))):(d.log(g.getShaderInfoLog(D)),m.dispatchEvent(h.SLICEASE_RENDER_ERROR,{message:"Failed to compile vertex shader."}));
J=g.createBuffer();K=g.createBuffer();I=g.createBuffer()};m.play=function(a){t?d.log("Render busy!"):0>a||a>=m.config.sources.length?d.log("Index out of bounds!"):(t=!0,q=v,v=a,0>q||void 0==A[v]?z.load(m.config.sources[v]):r())};m.stop=function(){z&&z.stop()};m.element=function(){return w};m.resize=function(a,c){w.width=a||m.config.width;w.height=c||m.config.height};m.destroy=function(){};m.name=k.DEFAULT;m.config=d.extend({},{},b);e=e.replace(/\[precision\]/,m.config.precision);f=f.replace(/\[precision\]/,
m.config.precision);z=new d.imageloader;z.addEventListener(h.SLICEASE_COMPLETE,function(a){d.log("Loaded image "+a.src+".");a=a.data;var c=A[v]=g.createTexture();g.bindTexture(g.TEXTURE_2D,c);g.texImage2D(g.TEXTURE_2D,0,g.RGBA,g.RGBA,g.UNSIGNED_BYTE,a);p(a.width)&&p(a.height)?(g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,g.LINEAR),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,g.LINEAR_MIPMAP_NEAREST),g.generateMipmap(g.TEXTURE_2D)):(g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,g.LINEAR),
g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,g.CLAMP_TO_EDGE),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,g.CLAMP_TO_EDGE));2==v&&g.bindTexture(g.TEXTURE_2D,null);r()});z.addEventListener(h.ERROR,function(a){d.log(a.message)});E=new a({duration:600,timingfunction:a.timingfunctions.EASE_OUT,iterationcount:2,direction:a.directions.ALTERNATE});F=new a({duration:1200,timingfunction:a.timingfunctions.EASE_IN_OUT});w=d.createElement("canvas");w.innerHTML="<a>Canvas not supported! </a><a>Please open in a browser listed below: </a><a>Chrome, Firefox, Opera, Safari, Edge, 360.</a>";
w.width=m.config.width;w.height=m.config.height;g=w.getContext("webgl")||w.getContext("experimental-webgl");g.viewport(0,0,w.width,w.height);g.clearColor(0,0,0,1);g.clearDepth(1);g.enable(g.DEPTH_TEST);g.enable(g.CULL_FACE);g.depthFunc(g.LEQUAL)}})(slicease);(function(b){b.core.skins={}})(slicease);(function(b){b.core.skins.modes={DEFAULT:"def"}})(slicease);
(function(b){var d=b.utils,h=b.events;b=b.core.skins;var a=b.modes,k=d.css;b.def=function(b){var e=d.extend(this,new h.eventdispatcher("skins.def")),c=b.width;b=b.height;e.resize=function(a,c){};e.name=a.DEFAULT;k(".sli-wrapper",{width:c+"px",height:b+"px","box-shadow":"0 1px 1px rgba(0, 0, 0, 0.05)"});k(".sli-wrapper *",{margin:"0",padding:"0","font-family":"\u5fae\u8f6f\u96c5\u9ed1,arial,sans-serif","font-size":"14px","font-weight":"normal","box-sizing":"content-box"});k(".sli-render",{width:c-
2+"px",height:b-2+"px",border:"1px solid #1184ce","border-radius":"4px",position:"relative"})}})(slicease);
(function(b){var d=b.utils,h=b.events,a=b.core;a.entity=function(b){var e=d.extend(this,new h.eventdispatcher("core.entity")),f,c,k;e.setup=function(){setTimeout(function(){c.setup()},0)};e.destroy=function(){k&&k.stop();c&&c.destroy();f&&f.destroy()};e.id=b.id;e.model=f=new a.model(b);e.view=c=new a.view(e,f);e.controller=k=new a.controller(f,c);k.addGlobalListener(function(a){e.dispatchEvent(a.type,a)});e.play=k.play;e.stop=k.stop;e.prev=k.prev;e.next=k.next;e.getState=f.getState;e.resize=c.resize}})(slicease);
(function(b){var d=b.utils,h=b.events;b=b.core;var a=b.states;b.model=function(b){var e=d.extend(this,new h.eventdispatcher("core.model")),f=a.STOPPED;e.setState=function(a){a!==f&&(f=a,e.dispatchEvent(h.SLCIEASE_STATE,{state:a}))};e.getState=function(){return f};e.getConfig=function(a){return e.config[a]||{}};e.destroy=function(){};e.config=d.extend({},{},b)}})(slicease);
(function(b){var d=b.utils,h=b.events;b=b.core;var a=b.renders,k=b.skins;b.view=function(b,f){function c(){var c=d.extend({},f.getConfig("render"),{id:b.id,width:f.config.width,height:f.config.height,sources:f.config.sources,range:f.config.range});try{n=t.render=new a[c.name](t,c),n.addEventListener(h.SLICEASE_RENDER_UPDATE_START,r),n.addEventListener(h.SLICEASE_RENDER_UPDATE_END,u),n.addEventListener(h.SLICEASE_RENDER_ERROR,m)}catch(F){d.log("Failed to init render "+c.name+"!")}n&&v.appendChild(n.element())}
function e(){var a=d.extend({},f.getConfig("skin"),{id:b.id,width:f.config.width,height:f.config.height});try{A=new k[a.name](t,a)}catch(F){d.log("Failed to init skin "+a.name+"!")}}function l(a){if(a.ctrlKey||a.metaKey)return!0;if(/13|32/.test(a.keyCode))return a.preventDefault?a.preventDefault():a.returnValue=!1,!1}function r(a){t.dispatchEvent(a.type,a)}function u(a){t.dispatchEvent(a.type,a)}function m(a){t.dispatchEvent(a.type,a)}var t=d.extend(this,new h.eventdispatcher("core.view")),q,v,x,
B,z,n,A;t.setup=function(){if(n){n.setup();try{q.addEventListener("keydown",l)}catch(E){q.attachEvent("onkeydown",l)}t.dispatchEvent(h.SLICEASE_READY)}else t.dispatchEvent(h.SLICEASE_SETUP_ERROR,{message:"Render not available!",name:f.config.render.name})};t.resize=function(a,c){n&&n.resize(a,c);A&&A.resize(a,c)};t.destroy=function(){if(q)try{q.removeEventListener("keydown",l)}catch(E){q.detachEvent("onkeydown",l)}n&&n.destroy()};(function(){q=d.createElement("div","sli-wrapper,sli-skin-"+f.config.skin.name);
q.id=b.id;q.tabIndex=0;v=d.createElement("div","sli-render");x=d.createElement("div","sli-poster");B=d.createElement("div","sli-controls");z=d.createElement("div","sli-contextmenu");q.appendChild(v);q.appendChild(x);q.appendChild(B);q.appendChild(z);c();e();var a=document.getElementById(b.id);a.parentNode.replaceChild(q,a);window.onresize=function(){"function"===d.typeOf(f.config.onresize)&&f.config.onresize.call(null)}})()}})(slicease);
(function(b){var d=b.utils,h=b.events;b=b.core;var a=b.states;b.controller=function(b,e){function f(a){c.next()}var c=d.extend(this,new h.eventdispatcher("core.controller")),k=!1,l=-1,r;c.play=function(a){void 0===a?c.next():(l=Math.min(Math.max(a,0),b.config.sources.length-1),e.render.play(l))};c.stop=function(){_loader.stop();r&&r.stop();b.setState(a.STOPPED);e.render.stop()};c.prev=function(){0===l--&&(l=b.config.sources.length-1);e.render.play(l)};c.next=function(){l++===b.config.sources.length-
1&&(l=0);e.render.play(l)};b.addEventListener(h.SLICEASE_STATE,function(b){switch(b.state){case a.IDLE:case a.PLAYING:case a.STOPPED:case a.ERROR:c.dispatchEvent(h.SLICEASE_STATE,{state:b.state,index:l});break;default:c.dispatchEvent(h.ERROR,{message:"Unknown model state!",state:b.state})}});e.addEventListener(h.SLICEASE_READY,function(a){k||(k=!0,c.dispatchEvent(a.type,a),c.play(0),window.onbeforeunload=function(a){})});e.addEventListener(h.SLICEASE_SETUP_ERROR,function(d){b.setState(a.ERROR);c.dispatchEvent(d.type,
d)});e.addEventListener(h.SLICEASE_VIEW_PLAY,function(d){b.getState()!==a.PLAYING&&c.play(d.index)});e.addEventListener(h.SLICEASE_VIEW_STOP,function(a){c.stop()});e.addEventListener(h.SLICEASE_VIEW_PREV,function(a){c.prev()});e.addEventListener(h.SLICEASE_VIEW_NEXT,function(a){c.next()});e.addEventListener(h.SLICEASE_RENDER_UPDATE_START,function(c){d.log("onUpdateStart");b.setState(a.PLAYING)});e.addEventListener(h.SLICEASE_RENDER_UPDATE_END,function(c){d.log("onUpdateEnd");b.setState(a.IDLE);r||
(r=new d.timer(b.config.interval,1),r.addEventListener(h.SLICEASE_TIMER,f));r.reset();r.start()});e.addEventListener(h.SLICEASE_RENDER_ERROR,function(d){b.setState(a.ERROR);c.dispatchEvent(d.type,d)})}})(slicease);
(function(b){var d=b.utils,h=b.events,a=b.embed=function(k){function e(a){switch(a.type){case h.ERROR:case h.SLICEASE_SETUP_ERROR:case h.SLICEASE_RENDER_ERROR:f.errorScreen(a.message);f.dispatchEvent(h.ERROR,a);break;default:f.dispatchEvent(a.type,a)}}var f=d.extend(this,new h.eventdispatcher("embed")),c={},p=null,l=!1;f.embed=function(){try{c=new a.config(k.config),p=new a.embedder(k,c)}catch(r){d.log("Failed to init embedder!");f.dispatchEvent(h.SLICEASE_SETUP_ERROR,{message:"Failed to init embedder!",
render:c.render.name});return}p.addGlobalListener(e);p.embed()};f.errorScreen=function(a){l||(l=!0,b.api.displayError(a,c))};(function(){d.foreach(k.config.events,function(a,b){a=k[a];"function"===d.typeOf(a)&&a.call(k,b)})})()}})(slicease);
(function(b){var d=b.utils,h=b.embed;b=b.core;var a=b.renders,k=a.precisions,e=a.modes,f=b.skins.modes;h.config=function(a){return d.extend({},{width:640,height:360,sources:[],range:"3-10",controls:!0,interval:5E3,render:{name:e.DEFAULT,precision:k.HIGH_P},skin:{name:f.DEFAULT}},a)};h.config.addConfig=function(a,b){return d.extend(a,b)}})(slicease);
(function(b){var d=b.utils,h=b.events,a=b.core;b.embed.embedder=function(b,e){function f(a){c.dispatchEvent(a.type,a)}var c=d.extend(this,new h.eventdispatcher("embed.embedder"));c.embed=function(){var c=new a.entity(e);c.addGlobalListener(f);c.setup();b.setEntity(c,e.render.name)}}})(slicease);