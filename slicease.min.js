slicease=function(){if(slicease.api)return slicease.api.getInstance.apply(this,arguments)};slicease.version="3.0.08";
(function(d){function e(c){return null!==navigator.userAgent.toLowerCase().match(c)}var g=d.utils={};g.exists=function(c){switch(g.typeOf(c)){case "string":return 0<c.length;case "object":return null!==c;case "null":return!1}return!0};g.extend=function(){var c=Array.prototype.slice.call(arguments,0),b=c[0];if(1<c.length)for(var a=1;a<c.length;a++)g.foreach(c[a],function(a,c){void 0!==c&&null!==c&&(b[a]=c)});return b};g.foreach=function(c,b){for(var a in c)c.hasOwnProperty&&"function"===g.typeOf(c.hasOwnProperty)?
c.hasOwnProperty(a)&&b(a,c[a]):b(a,c[a])};g.getCookie=function(c){var b;return(b=document.cookie.match(new RegExp("(^| )"+c+"=([^;]*)(;|$)")))?unescape(b[2]):null};g.formatTime=function(c){var b=c.getHours()+1,a=c.getMinutes(),h=c.getSeconds();return c.toLocaleDateString()+" "+g.pad(b,2)+":"+g.pad(a,2)+":"+g.pad(h,2)};g.pad=function(c,b){for(c+="";c.length<b;)c="0"+c;return c};g.typeOf=function(c){if(null===c||void 0===c)return"null";var b=typeof c;if("object"===b)try{var a=Object.prototype.toString.call(c).match(/^\[object ([a-z]+)\]$/i);
if(a&&1<a.length&&a[1])return a[1].toLowerCase()}catch(h){}return b};g.isInt=function(c){return 0===parseFloat(c)%1};g.trim=function(c){return c.replace(/^\s+|\s+$/g,"")};g.indexOf=function(c,b){if(null==c)return-1;for(var a=0;a<c.length;a++)if(c[a]===b)return a;return-1};g.createElement=function(c,b){c=document.createElement(c);b&&(c.className=b);return c};g.addClass=function(c,b){var a="string"===g.typeOf(c.className)?c.className.split(" "):[];b="array"===g.typeOf(b)?b:b.split(" ");g.foreach(b,
function(c,b){-1===g.indexOf(a,b)&&a.push(b)});c.className=g.trim(a.join(" "))};g.hasClass=function(c,b){c=c.className||"";b="array"===g.typeOf(b)?b:b.split(" ");for(var a=0;a<b.length;a++)if(-1==c.search(new RegExp("\\b"+b[a]+"\\b","i")))return!1;return!0};g.removeClass=function(c,b){var a="string"===g.typeOf(c.className)?c.className.split(" "):[];b="array"===g.typeOf(b)?b:b.split(" ");g.foreach(b,function(c,b){c=g.indexOf(a,b);0<=c&&a.splice(c,1)});c.className=g.trim(a.join(" "))};g.emptyElement=
function(c){for(;c.firstChild;)c.removeChild(c.firstChild)};g.isMSIE=function(c){return e(new RegExp("MSIE\\s*"+(c||""),"i"))};g.isIETrident=function(){return e(/trident\/.+rv:\s*11/i)};g.isEdge=function(c){return e(new RegExp("\\sEdge\\/"+(c||""),"i"))};g.isMac=function(c){return e(new RegExp("\\sMac OS X "+(c||""),"i"))};g.isSafari=function(c){return e(new RegExp("\\sSafari\\/"+(c||""),"i"))&&!e(/Chrome/i)&&!e(/Chromium/i)&&!e(/Android/i)};g.isIOS=function(c){return e(new RegExp("iP(hone|ad|od).+\\sOS\\s"+
(c||""),"i"))};g.isAndroid=function(c,b){return b&&e(/Chrome\/[123456789]/i)&&!e(/Chrome\/18/)?!1:e(new RegExp("Android\\s*"+(c||""),"i"))};g.isMobile=function(){return g.isIOS()||g.isAndroid()};g.isFirefox=function(c){return e(new RegExp("Firefox\\/"+(c||""),"i"))};g.isChrome=function(c){return e(new RegExp("\\s(?:Chrome|CriOS)\\/"+(c||""),"i"))&&!g.isEdge()};g.isSogou=function(c){return e(new RegExp("MetaSr\\s"+(c||""),"i"))};g.isWeixin=function(c){return e(new RegExp("MicroMessenger\\/"+(c||""),
"i"))};g.isQQBrowser=function(c){return e(new RegExp("QQBrowser\\/"+(c||""),"i"))};g.isHorizontal=function(){return void 0!=window.orientation?90==window.orientation||-90==window.orientation:window.innerWidth>window.innerHeight};g.getFlashVersion=function(){if(g.isAndroid())return 0;var c=navigator.plugins,b;if(c&&(b=c["Shockwave Flash"])&&b.description){var a=b.description.replace(/\D+(\d+\.?\d*).*/,"$1");return parseFloat(a)}if("undefined"!==typeof window.ActiveXObject)try{return b=new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash"),
a=b.GetVariable("$version").split(" ")[1].replace(/\s*,\s*/,"."),parseFloat(a)}catch(h){}return 0};g.getProtocol=function(c){var b="http";(c=c.match(/^([a-z]+):\/\//i))&&1<c.length&&(b=c[1]);return b};g.getOrigin=function(c){var b="";(c=c.match(/^[a-z]+:\/\/([a-z0-9\-.:])\//i))&&1<c.length&&(b=c[1]);return b};g.getFileName=function(c){var b="";(c=c.match(/\/([a-z0-9\(\)\[\]\{\}\s\-_%]*(\.[a-z0-9]+)?)$/i))&&1<c.length&&(b=c[1]);return b};g.getExtension=function(c){var b="";(c=c.match(/\/?([a-z0-9\(\)\[\]\{\}\s\-_%]*(\.([a-z0-9]+))*)\??([a-z0-9\.\-_%&=]*)$/i))&&
3<c.length&&(b=c[3]);return b};var k=window.console=window.console||{log:function(){}};g.log=function(){var c=Array.prototype.slice.call(arguments,0);"object"===g.typeOf(k.log)?k.log(c):k.log.apply(k,c)}})(slicease);
(function(d){function e(){var c=document.createElement("style");c.type="text/css";document.getElementsByTagName("head")[0].appendChild(c);return c.sheet||c.styleSheet}var g=d.utils,k;(g.css=function(c,b){k||(k=e());var a="";g.foreach(b,function(c,b){a+=c+": "+b+"; "});try{k.insertRule?k.insertRule(c+" { "+a+"}",k.cssRules.length):k.addRule(c,a,k.rules.length)}catch(h){g.log("Failed to insert css rule: "+c)}}).style=function(c,b,a){if(void 0!==c&&null!==c)for(void 0===c.length&&(c=[c]),b=g.extend({},
b),a=0;a<c.length;a++){var h=c[a];void 0!==h&&null!==h&&g.foreach(b,function(a,c){a=a.split("-");for(var b=1;b<a.length;b++)a[b]=a[b].charAt(0).toUpperCase()+a[b].slice(1);a=a.join("");h.style[a]!==c&&(h.style[a]=c)})}}})(slicease);
(function(d){d.events={ERROR:"error",RESIZE:"resize",SLICEASE_READY:"sliceaseReady",SLICEASE_SETUP_ERROR:"sliceaseSetupError",SLICEASE_RENDER_ERROR:"sliceaseRenderError",SLICEASE_STATE:"sliceaseState",SLICEASE_RENDER_UPDATE_START:"sliceaseRenderUpdateStart",SLICEASE_RENDER_UPDATE_END:"sliceaseRenderUpdateEnd",SLICEASE_VIEW_PLAY:"sliceaseViewPlay",SLICEASE_VIEW_STOP:"sliceaseViewStop",SLICEASE_VIEW_PREV:"sliceaseViewPrev",SLICEASE_VIEW_NEXT:"sliceaseViewNext",SLICEASE_PROGRESS:"sliceaseProgress",SLICEASE_COMPLETE:"sliceaseComplete",
SLICEASE_TIMER:"sliceaseTimer",SLICEASE_TIMER_COMPLETE:"sliceaseTimerComplete"}})(slicease);
(function(d){var e=d.utils;d.events.eventdispatcher=function(g){function k(a,c,b){if(a)for(var g=0;g<a.length;g++){var h=a[g];if(h){null!==h.count&&0===--h.count&&delete a[g];try{h.listener(c)}catch(p){e.log('Error handling "'+b+'" event listener ['+g+"]: "+p.toString(),h.listener,c)}}}}var c={},b=[];this.addEventListener=function(a,b,g){try{e.exists(c[a])||(c[a]=[]),"string"===e.typeOf(b)&&(b=(new Function("return "+b))()),c[a].push({listener:b,count:g||null})}catch(n){e.log("error",n)}return!1};
this.removeEventListener=function(a,b){if(c[a]){try{if(void 0===b){c[a]=[];return}var g;for(g=0;g<c[a].length;g++)if(c[a][g].listener.toString()===b.toString()){c[a].splice(g,1);break}}catch(n){e.log("error",n)}return!1}};this.hasEventListener=function(a){return c.hasOwnProperty(a)};this.addGlobalListener=function(a,c){try{"string"===e.typeOf(a)&&(a=(new Function("return "+a))()),b.push({listener:a,count:c||null})}catch(l){e.log("error",l)}return!1};this.removeGlobalListener=function(a){if(a){try{var c;
for(c=b.length-1;0<=c;c--)b[c].listener.toString()===a.toString()&&b.splice(c,1)}catch(l){e.log("error",l)}return!1}};this.dispatchEvent=function(a,h){h||(h={});e.extend(h,{id:g,type:a,target:this,version:d.version});d.debug&&e.log(a,h);k(c[a],h,a);k(b,h,a)}}})(slicease);
(function(d){var e=d.utils,g=d.events;e.imageloader=function(){function d(a){a=a.target;h=!1;b.dispatchEvent(g.SLICEASE_COMPLETE,{data:a,src:a.src})}function c(a){a=a.target;h=!1;b.dispatchEvent(g.ERROR,{message:"Failed to load image "+a.src+".",src:a.src})}var b=e.extend(this,new g.eventdispatcher("utils.imageloader")),a;b.load=function(b){a=new Image;a.onload=d;a.onabort=c;a.onerror=c;h=!0;a.src=b};b.stop=function(){h&&(a=a.onload=a.onabort=a.onerror=null);h=!1};b.loading=function(){return h};var h=
!1}})(slicease);
(function(d){var e=d.utils,g=d.events;e.timer=function(d,c){function b(){l++;a.dispatchEvent(g.SLICEASE_TIMER);0<a.repeatCount&&l>=a.repeatCount&&(a.stop(),a.dispatchEvent(g.SLICEASE_TIMER_COMPLETE))}var a=e.extend(this,new g.eventdispatcher("utils.timer")),h,l=0,k=!1;a.start=function(){!1===k&&(h=setInterval(b,a.delay),k=!0)};a.stop=function(){k&&(clearInterval(h),h=0,k=!1)};a.reset=function(){a.stop();l=0};a.currentCount=function(){return l};a.running=function(){return k};a.delay=d||50;a.repeatCount=
c||0}})(slicease);
(function(d){var e=d.utils,g=d.events,k={},c={onError:g.ERROR,onReady:g.SLICEASE_READY,onState:g.SLICEASE_STATE,onResize:g.SLICEASE_RESIZE};d.api=function(b){function a(a){h.dispatchEvent(a.type,a)}var h=e.extend(this,new g.eventdispatcher("api")),k;h.container=b;h.id=b.id;h.setup=function(b){e.emptyElement(h.container);d.debug=!!b.debug;h.config=b;h.config.id=h.id;h.embedder=new d.embed(h);h.embedder.addGlobalListener(a);h.embedder.embed();return h};h.setEntity=function(a){k=a;h.play=k.play;h.stop=
k.stop;h.prev=k.prev;h.next=k.next;h.getState=k.getState;h.resize=k.resize};(function(){e.foreach(c,function(a,b){h[a]=function(a){h.addEventListener(b,a)}})})()};d.api.getInstance=function(b){var a;null==b?b=0:b.nodeType?a=b:"string"===e.typeOf(b)&&(a=document.getElementById(b));if(a){var c=k[a.id];c||(k[b]=c=new d.api(a));return c}return"number"===e.typeOf(b)?k[b]:null};d.api.displayError=function(b,a){}})(slicease);
(function(d){var e=d.utils,g={LINEAR:"linear",EASE:"ease",EASE_IN:"ease-in",EASE_OUT:"ease-out",EASE_IN_OUT:"ease-in-out",ELASTIC:"elastic",WAVES_IN:"waves-in",CUBIC_BEZIER:"cubic-bezier"},k={linear:[0,0,1,1],ease:[.25,.1,.25,1],"ease-in":[.42,0,1,1],"ease-out":[0,0,.58,1],"ease-in-out":[.42,0,.58,1],elastic:[.42,2,.58,2],"waves-in":[.42,1,.58,1]},c={NORMAL:"normal",ALTERNATE:"alternate"};d.animation=function(b){function a(b,c){if("array"!=e.typeOf(b)||4>b.length)throw"Failed to shrink bezier points: Bad array!";
for(var g=[],h=b[0],d=b[1],k=2;k<b.length;k++){var B=b[k++],l=b[k];g.push(h+(B-h)*c);g.push(d+(l-d)*c);h=B;d=l}2<g.length&&(g=a(g,c));return g}var h=this,d={duration:0,timingfunction:g.EASE,delay:0,iterationcount:1,direction:c.NORMAL,points:void 0,factor:0},n,u,p;h.animate=function(b){if(0>=h.config.duration)return p[p.length-1];if(b<=h.config.delay)return p[1];b-=h.config.delay;var d=Math.ceil((b?b:1)/h.config.duration);if(-1!=h.config.iterationcount&&b>=h.config.iterationcount*h.config.duration)return h.config.direction==
c.ALTERNATE&&0==h.config.iterationcount%2?p[1]:p[p.length-1];var e=b%h.config.duration/h.config.duration;h.config.direction!=c.ALTERNATE||0!=d%2&&b!=h.config.duration||(e=1-e);b=a(p,e);h.config.timingfunction==g.ELASTIC&&2<d&&(b[1]*=1-h.config.factor^Math.ceil((d-2)/2));return b[1]};(function(){h.config=e.extend({},d,b);n=[0,0];u=[1,1];var a=[];switch(h.config.timingfunction){case g.WAVES_IN:h.config.direction=c.ALTERNATE;case g.ELASTIC:u=[1,0];case g.LINEAR:case g.EASE:case g.EASE_IN:case g.EASE_OUT:case g.EASE_IN_OUT:a=
k[h.config.timingfunction];break;case g.CUBIC_BEZIER:h.config.points&&(a=h.config.points)}p=n.concat(a,u)})()};d.animation.timingfunctions=g;d.animation.directions=c})(slicease);(function(d){d.core={}})(slicease);(function(d){d.core.states={IDLE:"idle",PLAYING:"playing",STOPPED:"stopped",ERROR:"error"}})(slicease);(function(d){d=d.core.renders={};d.types={DEFAULT:"def"};d.precisions={HIGH_P:"highp",MEDIUM_P:"mediump",LOW_P:"lowp"}})(slicease);
(function(d){var e=d.utils,g=d.events,k=d.animation,c=k.directions;d=d.core.renders;var b=d.types,a="attribute vec3 aVertexPosition;attribute vec4 aVertexColor;attribute vec2 aTextureCoord;uniform mat4 uModelViewMatrix;uniform mat4 uProjectionMatrix;varying [precision] vec4 vVertexColor;varying [precision] vec2 vTextureCoord;void main() {  gl_Position = uProjectionMatrix * uModelViewMatrix * vec4(aVertexPosition, 1.0);  vVertexColor = aVertexColor;  vTextureCoord = aTextureCoord;}",h="precision [precision] float;varying [precision] vec4 vVertexColor;varying [precision] vec2 vTextureCoord;uniform bool uUseTextures;uniform sampler2D uSampler;void main() {  vec4 normalColor;  if (uUseTextures) {    normalColor = texture2D(uSampler, vec2(vTextureCoord.s, vTextureCoord.t));  } else {    normalColor = vVertexColor;  }  gl_FragColor = normalColor;}";
d.def=function(d,n){function l(a){return 0>=a?!1:0===(a-1&a)}function p(){m.dispatchEvent(g.SLICEASE_RENDER_UPDATE_START,{index:v});y||(y=new e.timer(15),y.addEventListener(g.SLICEASE_TIMER,B));y.reset();y.start()}function B(a){f.clear(f.COLOR_BUFFER_BIT|f.DEPTH_BUFFER_BIT);for(a=0;a<C;a++){var b=a,c=C;var h=x[0]/c/2;var d=x[1]/2,e=x[2]/2;d=[-h,d,e,-h,-d,e,h,-d,e,h,d,e,-h,-d,-e,-h,d,-e,h,d,-e,h,-d,-e,-h,d,-e,-h,d,e,h,d,e,h,d,-e,-h,-d,e,-h,-d,-e,h,-d,-e,h,-d,e,-h,d,-e,-h,-d,-e,-h,-d,e,-h,d,e,h,d,e,
h,-d,e,h,-d,-e,h,d,-e];f.bindBuffer(f.ARRAY_BUFFER,S);f.bufferData(f.ARRAY_BUFFER,new Float32Array(d),f.STATIC_DRAW);f.vertexAttribPointer(F,3,f.FLOAT,!1,0,0);d=[];for(e=0;24>e;e++)d=d.concat(m.config.profile);f.bindBuffer(f.ARRAY_BUFFER,T);f.bufferData(f.ARRAY_BUFFER,new Float32Array(d),f.STATIC_DRAW);f.vertexAttribPointer(M,4,f.FLOAT,!1,0,0);e=1/c;d=b*e;e*=b+1;d=[d,0,d,1,e,1,e,0,d,0,d,1,e,1,e,0,d,0,d,1,e,1,e,0,d,0,d,1,e,1,e,0,d,0,d,1,e,1,e,0,d,0,d,1,e,1,e,0];f.bindBuffer(f.ARRAY_BUFFER,U);f.bufferData(f.ARRAY_BUFFER,
new Float32Array(d),f.STATIC_DRAW);f.vertexAttribPointer(N,2,f.FLOAT,!1,0,0);d=[0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23];f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,O);f.bufferData(f.ELEMENT_ARRAY_BUFFER,new Uint16Array(d.slice(0,6)),f.STATIC_DRAW);f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,P);f.bufferData(f.ELEMENT_ARRAY_BUFFER,new Uint16Array(d.slice(6,12)),f.STATIC_DRAW);f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,K);f.bufferData(f.ELEMENT_ARRAY_BUFFER,new Uint16Array(d.slice(12,
18)),f.STATIC_DRAW);f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,L);f.bufferData(f.ELEMENT_ARRAY_BUFFER,new Uint16Array(d.slice(18,24)),f.STATIC_DRAW);f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,Q);f.bufferData(f.ELEMENT_ARRAY_BUFFER,new Uint16Array(d.slice(24,30)),f.STATIC_DRAW);f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,R);f.bufferData(f.ELEMENT_ARRAY_BUFFER,new Uint16Array(d.slice(30,36)),f.STATIC_DRAW);d=c;e=h;G.z.config.delay=G.r.config.delay=100*(z?d-b-1:b);c=y.currentCount()*y.delay;h=G.z.animate(c);c=G.r.animate(c);
b=(1-d+2*b)*e;d=-10*h;e=c*Math.PI/2;0>r&&(d=-10+10*h,e=Math.PI/4*(1+c));z&&(e*=-1);h=mat4.create();mat4.lookAt(h,[0,0,m.config.distance],[0,0,0],[0,1,0]);mat4.translate(h,h,[b,0,d]);mat4.rotateX(h,h,e);c=f.getUniformLocation(q,"uModelViewMatrix");f.uniformMatrix4fv(c,!1,h);h=mat4.create();mat4.perspective(h,Math.PI/6,D.width/D.height,.1,100);c=f.getUniformLocation(q,"uProjectionMatrix");f.uniformMatrix4fv(c,!1,h);0<=r?(f.uniform1i(f.getUniformLocation(q,"uUseTextures"),!0),h=f["TEXTURE"+r],f.activeTexture(h),
f.bindTexture(f.TEXTURE_2D,E[r]),f.uniform1i(f.getUniformLocation(q,"uSampler"),r)):f.uniform1i(f.getUniformLocation(q,"uUseTextures"),!1);f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,O);f.drawElements(f.TRIANGLES,6,f.UNSIGNED_SHORT,0);f.uniform1i(f.getUniformLocation(q,"uUseTextures"),!0);f.activeTexture(f["TEXTURE"+v]);f.bindTexture(f.TEXTURE_2D,E[v]);f.uniform1i(f.getUniformLocation(q,"uSampler"),v);f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,z?L:K);f.drawElements(f.TRIANGLES,6,f.UNSIGNED_SHORT,0);f.uniform1i(f.getUniformLocation(q,
"uUseTextures"),!1);f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,P);f.drawElements(f.TRIANGLES,6,f.UNSIGNED_SHORT,0);f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,z?K:L);f.drawElements(f.TRIANGLES,6,f.UNSIGNED_SHORT,0);f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,Q);f.drawElements(f.TRIANGLES,6,f.UNSIGNED_SHORT,0);f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,R);f.drawElements(f.TRIANGLES,6,f.UNSIGNED_SHORT,0)}y.currentCount()*y.delay>=G.r.config.duration+100*(C-1)&&(y&&y.stop(),w=!1,m.dispatchEvent(g.SLICEASE_RENDER_UPDATE_END))}var m=
e.extend(this,new g.eventdispatcher("renders.def")),z=!1,w=!1,r=-1,v=-1,A,x,C,y,E,q,t,H,F,M,N,S,T,U,O,P,K,L,Q,R;m.setup=function(){A=m.config.range.split("-");A[0]=parseInt(A[0]);A[1]=parseInt(A[1]||A[0]);x=m.config.cubic.split(",");x[0]=parseInt(x[0]);x[1]=parseInt(x[1]||x[0]);x[2]=parseInt(x[2]||x[1]||x[0]);E=Array(m.config.sources.length);H=f.createShader(f.VERTEX_SHADER);f.shaderSource(H,a);f.compileShader(H);f.getShaderParameter(H,f.COMPILE_STATUS)?(t=f.createShader(f.FRAGMENT_SHADER),f.shaderSource(t,
h),f.compileShader(t),f.getShaderParameter(t,f.COMPILE_STATUS)?(q=f.createProgram(),f.attachShader(q,H),f.attachShader(q,t),f.linkProgram(q),f.getProgramParameter(q,f.LINK_STATUS)?(f.useProgram(q),F=f.getAttribLocation(q,"aVertexPosition"),f.enableVertexAttribArray(F),M=f.getAttribLocation(q,"aVertexColor"),f.enableVertexAttribArray(M),N=f.getAttribLocation(q,"aTextureCoord"),f.enableVertexAttribArray(N)):m.dispatchEvent(g.SLICEASE_RENDER_ERROR,{message:"Failed to create WebGLProgram."})):(e.log(f.getShaderInfoLog(t)),
m.dispatchEvent(g.SLICEASE_RENDER_ERROR,{message:"Failed to compile fragment shader."}))):(e.log(f.getShaderInfoLog(H)),m.dispatchEvent(g.SLICEASE_RENDER_ERROR,{message:"Failed to compile vertex shader."}));S=f.createBuffer();T=f.createBuffer();U=f.createBuffer();O=f.createBuffer();P=f.createBuffer();K=f.createBuffer();L=f.createBuffer();Q=f.createBuffer();R=f.createBuffer();m.dispatchEvent(g.SLICEASE_READY,{id:m.config.id})};m.play=function(a,b){if(w)return e.log("Render busy!"),!1;if(0>a||a>=m.config.sources.length)return e.log("Index out of bounds!"),
!1;z=b;w=!0;r=v;v=a;C=A[0]+Math.round(Math.random()*(A[1]-A[0]));8==C&&C++;a=I.index++;0<=a&&(G=I[a],I.index==I.length&&(I.index=0));if(0>r||void 0==E[v]){a=m.config.sources[v];if("object"!=e.typeOf(a)||!a.file)return e.log("Source item should be object contains file property."),!1;J.load(a.file);return!0}p();return!0};m.stop=function(){J&&J.stop()};m.element=function(){return D};m.resize=function(a,b){D.width=a||m.config.width;D.height=b||m.config.height};m.destroy=function(){};m.name=b.DEFAULT;
m.config=e.extend({},{},n);a=a.replace(/\[precision\]/g,m.config.precision);h=h.replace(/\[precision\]/g,m.config.precision);var J=new e.imageloader;J.addEventListener(g.SLICEASE_COMPLETE,function(a){e.log("Loaded image "+a.src+".");a=a.data;var b=E[v]=f.createTexture();f.bindTexture(f.TEXTURE_2D,b);f.texImage2D(f.TEXTURE_2D,0,f.RGBA,f.RGBA,f.UNSIGNED_BYTE,a);l(a.width)&&l(a.height)?(f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,f.LINEAR),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,f.LINEAR_MIPMAP_NEAREST),
f.generateMipmap(f.TEXTURE_2D)):(f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,f.LINEAR),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.CLAMP_TO_EDGE),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.CLAMP_TO_EDGE));v==C-1&&f.bindTexture(f.TEXTURE_2D,null);p()});J.addEventListener(g.ERROR,function(a){e.log(a.message)});var I=[{z:new k({duration:1E3,timingfunction:k.timingfunctions.ELASTIC}),r:new k({duration:1200,timingfunction:k.timingfunctions.CUBIC_BEZIER,points:[.24,-.58,.58,2,.82,.58]})},
{z:new k({duration:1E3,timingfunction:k.timingfunctions.WAVES_IN}),r:new k({duration:1E3,timingfunction:k.timingfunctions.CUBIC_BEZIER,points:[.24,-.58,.82,1]})},{z:new k({duration:400,timingfunction:k.timingfunctions.EASE_IN_OUT,iterationcount:2,direction:c.ALTERNATE}),r:new k({duration:1E3,timingfunction:k.timingfunctions.CUBIC_BEZIER,points:[.42,2,.84,.5]})}];I.index=-1;var G={z:new k({duration:500,timingfunction:k.timingfunctions.EASE_IN}),r:new k({duration:500,timingfunction:k.timingfunctions.EASE_IN})};
var D=e.createElement("canvas");D.innerHTML="<a>Canvas not supported! </a><a>Please open in a browser listed below: </a><a>Chrome, Firefox, Opera, Safari, Edge, 360.</a>";D.width=m.config.width;D.height=m.config.height;var f=D.getContext("webgl")||D.getContext("experimental-webgl");f.viewport(0,0,D.width,D.height);f.clearDepth(1);f.enable(f.DEPTH_TEST);f.enable(f.CULL_FACE);f.depthFunc(f.LEQUAL)}})(slicease);(function(d){(d.core.skins={}).types={DEFAULT:"def"}})(slicease);
(function(d){var e=d.utils,g=d.events,k=d.core.states;d=d.core.skins;var c=d.types,b=e.css,a="sli-skin";d.def=function(d){var h=e.extend(this,new g.eventdispatcher("skins.def")),n=d.width;d=d.height;h.resize=function(a,b){};h.name=c.DEFAULT;a+="-"+h.name;b(".sli-wrapper",{width:"100%",height:"100%",position:"relative","box-shadow":"0 1px 1px rgba(0, 0, 0, 0.05)"});b(".sli-wrapper *",{margin:"0",padding:"0","font-family":"Microsoft YaHei,arial,sans-serif","font-size":"12px","font-weight":"normal",
"box-sizing":"content-box"});b("."+a+" .sli-button",{"text-align":"center","background-repeat":"no-repeat","background-position":"center",cursor:"pointer",display:"block"});b("."+a+" .sli-render",{width:"100%",height:"100%","font-size":"0","line-height":"0",position:"relative"});b("."+a+" .sli-render .sli-nav",{width:"100%",height:"100%",top:"0",position:"absolute",display:"inline-block","z-index":"1"});b("."+a+" .sli-render .sli-display",{width:"100%",height:"100%","text-align":"center",top:"0",
position:"absolute",overflow:"hidden",display:"none","z-index":"2"});b("."+a+"."+k.IDLE+" .sli-render .sli-display, ."+a+"."+k.PLAYING+" .sli-render .sli-display, ."+a+"."+k.STOPPED+" .sli-render .sli-display, ."+a+"."+k.ERROR+" .sli-render .sli-display",{display:"block"});b("."+a+" .sli-render .sli-display .sli-display-icon",{margin:"0 auto",width:"48px",height:"48px",top:(d-40-48)/2+"px",left:(n-48)/2+"px",position:"absolute","background-repeat":"no-repeat","background-position":"center",display:"inline-block"});
b("."+a+" .sli-render .sli-display .sli-display-label",{"margin-top":(d-40-32)/2+"px","font-size":"14px","line-height":"32px",color:"#CCCCCC","text-align":"center",display:"none"});b("."+a+" .sli-render .sli-display .sli-display-label a",{"font-size":"14px","font-weight":"bold",color:"#FFFFFF"});b("."+a+"."+k.ERROR+" .sli-render .sli-display .sli-display-icon",{"background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAnUExURUxpcebm5ubm5ufn5+fn5+bm5ubm5ujo6Obm5ubm5uXl5e/v7+bm5v4Cjk0AAAAMdFJOUwDAmSBi7IA9ULDQEGJkMtUAAAFESURBVDjLdVShUgMxEE17Nz0YEHQGDBOBoQgi7gMQeBAIBOIEg8FUVKEQGFwFKAQ1DLYCwQ8EOKCd91FN0lznst2NuMu9d3m72eyLUq1xpISxdyoQ+ksi8M6gd88VUD9QuDhEGFSs0Esc8zLBs4nD3gZO6zhd8AjMznzwyxTPnbaX0PUoJQxskNavKd4DDsJkl6Q0xs9ykmaksgp8jToQSjTGjlS6ksULSamLb57YxhNP3AvJqiE+eGIyFw56agWCy7b34onfdeK8FoghBCkDIbi2zYNmOuM3uBXiMiXJ8ccXcRMXfNlPQtcwB2UQGm9KjzaD5Zuhg3++fUz8kzZcjrokLRpLG5V8wrGpm69raoMgrFshu9E4HjetBSurKfXpzHjV3pI3bX9w03cvm2x3o0LjZ3IFFCZeAKP1K2PfWf129bkALBuQv4Z6ZbEAAAAASUVORK5CYII=)"});
b("."+a+"."+k.ERROR+" .sli-render .sli-display .sli-display-icon:hover",{"background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAnUExURUxpcQCf6ACf6QCf7wCf6gCg6QCg6QCf6wCf6QCg6QCf6QCf7wCg6Ta1FVAAAAAMdFJOUwDAmSBi7IA9ULDQEGJkMtUAAAFESURBVDjLdVShUgMxEE17Nz0YEHQGDBOBoQgi7gMQeBAIBOIEg8FUVKEQGFwFKAQ1DLYCwQ8EOKCd91FN0lznst2NuMu9d3m72eyLUq1xpISxdyoQ+ksi8M6gd88VUD9QuDhEGFSs0Esc8zLBs4nD3gZO6zhd8AjMznzwyxTPnbaX0PUoJQxskNavKd4DDsJkl6Q0xs9ykmaksgp8jToQSjTGjlS6ksULSamLb57YxhNP3AvJqiE+eGIyFw56agWCy7b34onfdeK8FoghBCkDIbi2zYNmOuM3uBXiMiXJ8ccXcRMXfNlPQtcwB2UQGm9KjzaD5Zuhg3++fUz8kzZcjrokLRpLG5V8wrGpm69raoMgrFshu9E4HjetBSurKfXpzHjV3pI3bX9w03cvm2x3o0LjZ3IFFCZeAKP1K2PfWf129bkALBuQv4Z6ZbEAAAAASUVORK5CYII=)"});
b("."+a+" .sli-render canvas",{"background-color":"transparent"});b("."+a+" .sli-controls",{"z-index":"3"});b("."+a+" .sli-controls .sli-pages",{bottom:"10px","line-height":"10px",position:"absolute",display:"block","z-index":"4"});b("."+a+" .sli-controls .sli-pages .sli-button",{"margin-right":"8px",width:"25px",height:"11px",display:"inline-block"});b("."+a+" .sli-controls .sli-pages .sli-button:last-child",{"margin-right":"0"});b("."+a+" .sli-controls .sli-pages .sli-button a",{margin:"3px 0",
width:"100%",height:"5px",opacity:".3",background:"#000000",display:"inline-block"});b("."+a+" .sli-controls .sli-pages .sli-button.selected a",{opacity:".6",background:"#FFFFFF"});b("."+a+" .sli-controls .sli-control",{"margin-top":"-20px",width:"24px",height:"40px",top:"50%",opacity:".3",background:"#000000",position:"absolute",display:"none","z-index":"5"});b(".sli-wrapper:hover .sli-controls .sli-control",{display:"block"});b("."+a+" .sli-controls .sli-control:hover",{opacity:".4"});b("."+a+" .sli-controls .sli-control span",
{width:"100%",height:"100%","background-repeat":"no-repeat","background-position":"center",display:"block"});b("."+a+" .sli-controls .sli-control.prev",{left:"0"});b("."+a+" .sli-controls .sli-control.prev span",{"background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAlklEQVRIS7XVwQ2AIBBE0ZnO7ETpDDuxszUcTIwxsDsLnDz9J8QVYvHi4j5SgJltJK/eS8qAmVUAO4BCsj3/Lgl4xVv0JHlMAyLxhoZ2EI2HACXuBtS4C8jEh0A23gVmxCNAJVmU30r3M/3sQkKGc5BFhkA7lgziAjKIG1CREKAgYSCKSMAHmX/hPAO39Mr0TrV8RF7gBqveYhnAXdKeAAAAAElFTkSuQmCC)"});
b("."+a+" .sli-controls .sli-control.next",{right:"0"});b("."+a+" .sli-controls .sli-control.next span",{"background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAApElEQVRIS7XV0Q2DMAwE0LvNugllhG7CBqWbsJmrSPBDIbbPTf5zz4lsmRh8ODgfLmBmD5KbWkgXMLMngDeAleSsIB6wApj2YAmJfFEJcYFWvZnJSAioIGFARVKAgqSBLCIBF8iL5HI1J/8CPiTbUP4cCTi17W1409JAJjwNZMNTgBIeBtTwEFAJd4FqeAQ4Fk63FXuLyG3ToStTWZHnO+4LqsgXYy1iGYSzNHkAAAAASUVORK5CYII=)"});b("."+a+" .sli-contextmenu",{"white-space":"nowrap",
position:"absolute",display:"none","z-index":"6"});b("."+a+" .sli-contextmenu ul",{"list-style":"none"});b("."+a+" .sli-contextmenu ul li",{});b("."+a+" .sli-contextmenu ul li a",{padding:"8px 14px",color:"#E6E6E6","line-height":"20px","text-decoration":"none",background:"#252525",display:"block"});b("."+a+" .sli-contextmenu ul li a:hover",{"text-decoration":"none",background:"#303030"});b("."+a+" .sli-contextmenu ul li.pe-featured a",{color:"#BDBDBD",background:"#454545"});b("."+a+" .sli-contextmenu ul li.pe-featured a:hover",
{"text-decoration":"none",background:"#505050"});b("."+a+" .sli-contextmenu ul li a span",{"margin-right":"10px","padding-right":"10px",width:"20px",height:"20px","border-right":"1px solid #BDBDBD","vertical-align":"middle",display:"inline-block"})}})(slicease);(function(d){d.core.components={}})(slicease);
(function(d){var e=d.utils,g=e.css,k=d.events;d.core.components.controlbar=function(c,b){function a(a){a=a.currentTarget.getAttribute("index");d.dispatchEvent(k.SLICEASE_VIEW_PLAY,{index:a})}var d=e.extend(this,new k.eventdispatcher("components.controlbar")),l,n,u;d.setActive=function(a){for(var b=0;b<l.childNodes.length;b++){var c=l.childNodes[b];b==a?e.addClass(c,"selected"):e.removeClass(c,"selected")}};d.resize=function(a,b){g.style(l,{left:(a-(33*l.childNodes.length-8))/2+"px"})};d.destroy=function(){};
d.config=e.extend({},{},b);(function(){l=e.createElement("div","sli-pages");for(var g=0;g<b.pages;g++){var h=e.createElement("span","sli-button");h.setAttribute("index",g);h.innerHTML="<a></a>";h.addEventListener("click",a);l.appendChild(h)}n=e.createElement("div","sli-control sli-button prev");n.innerHTML="<span></span>";n.addEventListener("click",function(a){d.dispatchEvent(k.SLICEASE_VIEW_PREV)});u=e.createElement("div","sli-control sli-button next");u.innerHTML="<span></span>";u.addEventListener("click",
function(a){d.dispatchEvent(k.SLICEASE_VIEW_NEXT)});c.appendChild(l);c.appendChild(n);c.appendChild(u)})()}})(slicease);
(function(d){var e=d.utils,g=e.css,k=d.events;d.core.components.navigation=function(c){var b=e.extend(this,new k.eventdispatcher("components.navigation"));b.setActive=function(c){c=b.config.sources[c];g.style(a,{display:c.link?"inline-block":"none"});a.setAttribute("href",c.link||"#");a.setAttribute("target",c.target||"_blank")};b.element=function(){return a};b.resize=function(a,b){};b.config=e.extend({},c);var a=e.createElement("a","sli-nav")}})(slicease);
(function(d){var e=d.utils,g=e.css,k=d.events;d.core.components.display=function(c){var b=e.extend(this,new k.eventdispatcher("components.display"));b.show=function(a,b){g.style(l,{display:b?"inline-block":"none"});l.innerHTML=b};b.element=function(){return a};b.resize=function(a,b){g.style(d,{top:(b-48)/2+"px",left:(a-48)/2+"px"});g.style(l,{"margin-top":(b-32)/2+"px"})};b.config=e.extend({},{id:"sli-display"},c);var a=e.createElement("div","sli-display");var d=e.createElement("span","sli-button sli-display-icon");
a.appendChild(d);var l=e.createElement("span","sli-display-label");l.id=b.config.id;a.appendChild(l)}})(slicease);
(function(d){var e=d.utils,g=e.css,k=d.events;d.core.components.contextmenu=function(c,b){var a=e.extend(this,new k.eventdispatcher("components.contextmenu")),h={items:[]},l={text:"SLICEASE "+d.version,link:"http://studease.cn/slicease",target:"_blank"},n;a.show=function(a,b){g.style(c,{left:a+"px",top:b+"px",display:"block"})};a.hide=function(){g.style(c,{display:"none"})};a.element=function(){return n};a.resize=function(a,b){};(function(){a.config=e.extend({},h,b);a.config.items=[l].concat(a.config.items);
n=e.createElement("ul");for(var d=0;d<a.config.items.length;d++){var k=a.config.items[d],B=e.createElement("a");k.link&&(B.href=k.link);k.target&&(B.target=k.target);k.text&&(B.innerText=k.text);if(k.icon){var m=e.createElement("span");B.insertAdjacentElement("afterbegin",m);g.style(m,{background:"url("+k.icon+") no-repeat center left"})}k=e.createElement("li",k.icon?"sli-featured":"");k.appendChild(B);n.appendChild(k)}c.appendChild(n)})()}})(slicease);
(function(d){var e=d.utils,g=d.events,k=d.core;k.entity=function(c){var b=e.extend(this,new g.eventdispatcher("core.entity")),a,d,l;b.setup=function(){setTimeout(function(){l.setup()})};b.destroy=function(){l&&l.stop();d&&d.destroy();a&&a.destroy()};b.id=c.id;b.model=a=new k.model(c);b.view=d=new k.view(a);b.controller=l=new k.controller(a,d);l.addGlobalListener(function(a){b.dispatchEvent(a.type,a)});b.play=l.play;b.stop=l.stop;b.prev=l.prev;b.next=l.next;b.getState=a.getState;b.resize=d.resize}})(slicease);
(function(d){var e=d.utils,g=d.events;d=d.core;var k=d.states;d.model=function(c){var b=e.extend(this,new g.eventdispatcher("core.model")),a=k.STOPPED;b.setState=function(c){c!=a&&(a=c,b.dispatchEvent(g.SLCIEASE_STATE,{state:c}))};b.getState=function(){return a};b.getProperty=function(a){return d[a]};b.getConfig=function(a){return b.config[a]};b.destroy=function(){};b.config=e.extend({},{},c);var d={}}})(slicease);
(function(d){var e=d.utils,g=d.events;d=d.core;var k=d.components,c=d.renders,b=d.skins;d.view=function(a){function d(){var b={pages:a.getConfig("sources").length};try{C=new k.controlbar(A,b),C.addGlobalListener(z)}catch(F){e.log('Failed to init "controlbar" component!')}b={width:a.getConfig("width"),height:a.getConfig("height"),sources:a.getConfig("sources")};try{y=new k.navigation(b),y.addGlobalListener(z),v.appendChild(y.element())}catch(F){e.log('Failed to init "navigation" component!')}b=e.extend({},
a.getConfig("display"),{id:a.getConfig("id")+"-display"});try{E=new k.display(b),E.addGlobalListener(z),v.appendChild(E.element())}catch(F){e.log('Failed to init "display" component!')}b=e.extend({},a.getConfig("contextmenu"));try{q=new k.contextmenu(x,b),q.addGlobalListener(z)}catch(F){e.log('Failed to init "contextmenu" component!')}}function l(){var b=e.extend({},a.getConfig("render"),{id:a.getConfig("id"),width:a.getConfig("width"),height:a.getConfig("height"),sources:a.getConfig("sources"),range:a.getConfig("range"),
cubic:a.getConfig("cubic"),distance:a.getConfig("distance")});try{t=w.render=new c[b.name](w,b),t.addEventListener(g.SLICEASE_READY,z),t.addEventListener(g.SLICEASE_RENDER_UPDATE_START,B),t.addEventListener(g.SLICEASE_RENDER_UPDATE_END,z),t.addEventListener(g.SLICEASE_RENDER_ERROR,z)}catch(F){e.log("Failed to init render "+b.name+"!")}t&&v.appendChild(t.element())}function n(){var c=e.extend({},a.getConfig("skin"),{id:a.getConfig("id"),width:a.getConfig("width"),height:a.getConfig("height")});try{new b[c.name](c)}catch(F){e.log("Failed to init skin "+
c.name+"!")}}function u(a){if(a.ctrlKey||a.metaKey)return!0;if(/13|32/.test(a.keyCode))return a.preventDefault?a.preventDefault():a.returnValue=!1,!1}function p(a){if(q){if(void 0==a.currentTarget)for(var b=a.srcElement;b;b=b.offsetParent)if(b==r){a.currentTarget=r;break}if(a.button==(e.isMSIE(8)?1:0)||a.currentTarget!=r)setTimeout(function(){q.hide()},200);else if(2==a.button){var c=0,d=0;for(b=a.srcElement||a.target;b&&b!=r;b=b.offsetParent)c+=b.offsetLeft,d+=b.offsetTop;q.show(a.offsetX+c,a.offsetY+
d);a.preventDefault?a.preventDefault():a.returnValue=!1;a.stopPropagation?a.stopPropagation():a.cancelBubble=!0;return!1}}}function B(a){C.setActive(a.index);y.setActive(a.index);z(a)}function m(a){w.resize()}function z(a){w.dispatchEvent(a.type,a)}var w=e.extend(this,new g.eventdispatcher("core.view")),r,v,A,x,C,y,E,q,t;w.setup=function(){t?(t.setup(),w.resize()):w.dispatchEvent(g.SLICEASE_SETUP_ERROR,{message:"Render not available!",name:a.getConfig("render").name})};w.play=function(a,b){return t.play(a,
b)};w.stop=function(){t.stop()};w.display=function(a,b){E&&E.show(a,b)};w.resize=function(b,c){setTimeout(function(){if(void 0===b||void 0===c)b=v.clientWidth,c=v.clientHeight;var d=a.getConfig("aspectratio");if(d){var e=d.match(/(\d+):(\d+)/);e&&2<e.length&&(d=parseInt(e[1]),e=parseInt(e[2]),c=b*e/d)}t&&t.resize(b,c);w.dispatchEvent(g.RESIZE,{width:b,height:c});C.resize(b,c);E.resize(b,c);q.resize(b,c)})};w.destroy=function(){r&&(window.removeEventListener("resize",m),r.removeEventListener("keydown",
u));t&&t.destroy()};(function(){r=e.createElement("div","sli-wrapper sli-skin-"+a.getConfig("skin").name);r.id=a.getConfig("id");v=e.createElement("div","sli-render");A=e.createElement("div","sli-controls");x=e.createElement("div","sli-contextmenu");r.appendChild(v);r.appendChild(A);r.appendChild(x);d();l();n();r.oncontextmenu=function(a){a=a||window.event;a.preventDefault?a.preventDefault():a.returnValue=!1;return!1};window.addEventListener("resize",m);r.addEventListener("keydown",u);r.addEventListener("mousedown",
p);document.addEventListener("mousedown",p);var b=document.getElementById(a.getConfig("id"));b.parentNode.replaceChild(r,b)})()}})(slicease);
(function(d){var e=d.utils,g=d.events;d=d.core;var k=d.states;d.controller=function(c,b){function a(a){l.next()}function d(a){l.dispatchEvent(a.type,a)}var l=e.extend(this,new g.eventdispatcher("core.controller")),n=!1,u=-1,p;l.setup=function(a){n||b.setup()};l.play=function(a){void 0==a?l.next():(a=Math.min(Math.max(a,0),c.getConfig("sources").length-1),b.play(a,a<u)&&(u=a))};l.stop=function(){_loader.stop();p&&p.stop();c.setState(k.STOPPED);b.stop()};l.prev=function(){var a=u-1;0>a&&(a=c.getConfig("sources").length-
1);b.play(a,!0)&&(u=a)};l.next=function(){var a=u+1;a>c.getConfig("sources").length-1&&(a=0);b.play(a,!1)&&(u=a)};c.addEventListener(g.SLICEASE_STATE,function(a){switch(a.state){case k.IDLE:case k.PLAYING:case k.STOPPED:case k.ERROR:l.dispatchEvent(g.SLICEASE_STATE,{state:a.state,index:u});break;default:l.dispatchEvent(g.ERROR,{message:"Unknown model state!",state:a.state})}});b.addEventListener(g.SLICEASE_READY,function(a){n||(n=!0,d(a),l.play(0),window.onbeforeunload=function(a){})});b.addEventListener(g.SLICEASE_STATE,
function(a){c.setState(a.state);d(a)});b.addEventListener(g.SLICEASE_SETUP_ERROR,function(a){c.setState(k.ERROR);b.display(k.ERROR,a.message);l.stop();d(a)});b.addEventListener(g.RESIZE,d);b.addEventListener(g.SLICEASE_VIEW_PLAY,function(a){c.getState()!=k.PLAYING&&(l.play(a.index),d(a))});b.addEventListener(g.SLICEASE_VIEW_STOP,function(a){l.stop();d(a)});b.addEventListener(g.SLICEASE_VIEW_PREV,function(a){l.prev();d(a)});b.addEventListener(g.SLICEASE_VIEW_NEXT,function(a){l.next();d(a)});b.addEventListener(g.SLICEASE_RENDER_UPDATE_START,
function(a){c.setState(k.PLAYING)});b.addEventListener(g.SLICEASE_RENDER_UPDATE_END,function(b){c.setState(k.IDLE);p||(p=new e.timer(c.getConfig("interval"),1),p.addEventListener(g.SLICEASE_TIMER,a));p.reset();p.start()});b.addEventListener(g.SLICEASE_RENDER_ERROR,function(a){c.setState(k.ERROR);b.display(k.ERROR,a.message);l.stop();d(a)})}})(slicease);
(function(d){var e=d.utils,g=d.events,k=d.embed=function(c){function b(b){switch(b.type){case g.ERROR:case g.SLICEASE_SETUP_ERROR:case g.SLICEASE_RENDER_ERROR:e.log("[ERROR] "+b.message);a.errorScreen(b.message);a.dispatchEvent(g.ERROR,b);break;default:a.clearScreen(),a.dispatchEvent(b.type,b)}}var a=e.extend(this,new g.eventdispatcher("embed")),h={},l=!1,n=null;a.embed=function(){try{h=new k.config(c.config),n=new k.embedder(c,h)}catch(u){e.log("Failed to init embedder!");a.dispatchEvent(g.SLICEASE_SETUP_ERROR,
{message:"Failed to init embedder!",render:h.render.name});return}n.addGlobalListener(b);n.embed()};a.errorScreen=function(a){l||(l=!0,d.api.displayError(a,h))};a.clearScreen=function(){l=!1;d.api.displayError("",h)};(function(){e.foreach(c.config.events,function(a,b){a=c[a];"function"===e.typeOf(a)&&a.call(c,b)})})()}})(slicease);
(function(d){var e=d.utils,g=d.embed;d=d.core;var k=d.renders,c=k.precisions,b=k.types,a=d.skins.types;g.config=function(d){return e.extend({},{width:640,height:360,aspectratio:"",sources:[],range:"3-9",cubic:"10,4",distance:12,interval:5E3,controls:!0,debug:!1,render:{name:b.DEFAULT,precision:c.HIGH_P,profile:[.6,.6,.6,1]},skin:{name:a.DEFAULT},events:{}},d)};g.config.addConfig=function(a,b){return e.extend(a,b)}})(slicease);
(function(d){var e=d.utils,g=d.events,k=d.core;d.embed.embedder=function(c,b){function a(a){d.dispatchEvent(a.type,a)}var d=e.extend(this,new g.eventdispatcher("embed.embedder"));d.embed=function(){var d=new k.entity(b);d.addGlobalListener(a);d.setup();c.setEntity(d)}}})(slicease);