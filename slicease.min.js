slicease=function(){if(slicease.api)return slicease.api.getInstance.apply(this,arguments)};slicease.version="3.0.00";
(function(d){var g=d.utils={};g.exists=function(a){switch(g.typeOf(a)){case "string":return 0<a.length;case "object":return null!==a;case "null":return!1}return!0};g.extend=function(){var a=Array.prototype.slice.call(arguments,0),k=a[0];if(1<a.length)for(var e=1;e<a.length;e++)g.foreach(a[e],function(f,b){void 0!==b&&null!==b&&(k[f]=b)});return k};g.foreach=function(a,k){for(var e in a)a.hasOwnProperty&&"function"===g.typeOf(a.hasOwnProperty)?a.hasOwnProperty(e)&&k(e,a[e]):k(e,a[e])};g.getCookie=
function(a){var k;return(k=document.cookie.match(new RegExp("(^| )"+a+"=([^;]*)(;|$)")))?unescape(k[2]):null};g.formatTime=function(a){var k=a.getHours()+1,e=a.getMinutes(),f=a.getSeconds();return a.toLocaleDateString()+" "+g.pad(k,2)+":"+g.pad(e,2)+":"+g.pad(f,2)};g.pad=function(a,k){for(a+="";a.length<k;)a="0"+a;return a};g.createElement=function(a,k){a=document.createElement(a);k&&(a.className=k);return a};g.addClass=function(a,k){var e="string"===g.typeOf(a.className)?a.className.split(" "):[];
k="array"===g.typeOf(k)?k:k.split(" ");g.foreach(k,function(f,b){-1===g.indexOf(e,b)&&e.push(b)});a.className=g.trim(e.join(" "))};g.removeClass=function(a,k){var e="string"===g.typeOf(a.className)?a.className.split(" "):[];k="array"===g.typeOf(k)?k:k.split(" ");g.foreach(k,function(f,b){f=g.indexOf(e,b);0<=f&&e.splice(f,1)});a.className=g.trim(e.join(" "))};g.emptyElement=function(a){for(;a.firstChild;)a.removeChild(a.firstChild)};g.typeOf=function(a){if(null===a||void 0===a)return"null";var k=typeof a;
if("object"===k)try{if("[object Array]"===toString.call(a))return"array"}catch(e){}return k};g.trim=function(a){return a.replace(/^\s+|\s+$/g,"")};g.indexOf=function(a,k){if(null==a)return-1;for(var e=0;e<a.length;e++)if(a[e]===k)return e;return-1};g.isMSIE=function(a){return a?(a=parseFloat(a).toFixed(1),a=new RegExp("msie\\s*"+a,"i"),null!==navigator.userAgent.toLowerCase().match(a)):null!==navigator.userAgent.toLowerCase().match(/msie/i)};var h=window.console=window.console||{log:function(){}};
g.log=function(){var a=Array.prototype.slice.call(arguments,0);"object"===g.typeOf(h.log)?h.log(a):h.log.apply(h,a)}})(slicease);
(function(d){function g(){var a=document.createElement("style");a.type="text/css";document.getElementsByTagName("head")[0].appendChild(a);return a.sheet||a.styleSheet}var h=d.utils,a;(h.css=function(k,e){a||(a=g());var f="";h.foreach(e,function(b,a){f+=b+": "+a+"; "});try{a.insertRule?a.insertRule(k+" { "+f+"}",a.cssRules.length):a.addRule(k,f,a.rules.length)}catch(b){h.log("Failed to insert css rule: "+k)}}).style=function(a,e,f){if(void 0!==a&&null!==a)for(void 0===a.length&&(a=[a]),e=h.extend({},
e),f=0;f<a.length;f++){var b=a[f];void 0!==b&&null!==b&&h.foreach(e,function(a,f){a=a.split("-");for(var e=1;e<a.length;e++)a[e]=a[e].charAt(0).toUpperCase()+a[e].slice(1);a=a.join("");b.style[a]!==f&&(b.style[a]=f)})}}})(slicease);
(function(d){d.events={ERROR:"error",SLICEASE_READY:"sliceaseReady",SLICEASE_SETUP_ERROR:"sliceaseSetupError",SLICEASE_RENDER_ERROR:"sliceaseRenderError",SLICEASE_STATE:"sliceaseState",SLICEASE_VIEW_PLAY:"sliceaseViewPlay",SLICEASE_VIEW_STOP:"sliceaseViewStop",SLICEASE_VIEW_PREV:"sliceaseViewPrev",SLICEASE_VIEW_NEXT:"sliceaseViewNext",SLICEASE_RENDER_UPDATE_START:"sliceaseRenderUpdateStart",SLICEASE_RENDER_UPDATE_END:"sliceaseRenderUpdateEnd",SLICEASE_RESIZE:"sliceaseResize",SLICEASE_PROGRESS:"sliceaseProgress",
SLICEASE_COMPLETE:"sliceaseComplete",SLICEASE_TIMER:"sliceaseTimer",SLICEASE_TIMER_COMPLETE:"sliceaseTimerComplete"}})(slicease);
(function(d){var g=d.utils;d.events.eventdispatcher=function(h){function a(a,b,e){if(a)for(var f=0;f<a.length;f++){var d=a[f];if(d){null!==d.count&&0===--d.count&&delete a[f];try{d.listener(b)}catch(u){g.log('Error handling "'+e+'" event listener ['+f+"]: "+u.toString(),d.listener,b)}}}}var k={},e=[];this.addEventListener=function(a,b,e){try{g.exists(k[a])||(k[a]=[]),"string"===g.typeOf(b)&&(b=(new Function("return "+b))()),k[a].push({listener:b,count:e||null})}catch(l){g.log("error",l)}return!1};
this.removeEventListener=function(a,b){if(k[a]){try{if(void 0===b){k[a]=[];return}var e;for(e=0;e<k[a].length;e++)if(k[a][e].listener.toString()===b.toString()){k[a].splice(e,1);break}}catch(l){g.log("error",l)}return!1}};this.addGlobalListener=function(a,b){try{"string"===g.typeOf(a)&&(a=(new Function("return "+a))()),e.push({listener:a,count:b||null})}catch(p){g.log("error",p)}return!1};this.removeGlobalListener=function(a){if(a){try{var b;for(b=e.length-1;0<=b;b--)e[b].listener.toString()===a.toString()&&
e.splice(b,1)}catch(p){g.log("error",p)}return!1}};this.dispatchEvent=function(f,b){b||(b={});g.extend(b,{id:h,version:d.version,type:f});d.debug&&g.log(f,b);a(k[f],b,f);a(e,b,f)}}})(slicease);
(function(d){var g=d.utils,h=d.events;g.imageloader=function(){function a(a){a=a.target;f=!1;e.dispatchEvent(h.SLICEASE_COMPLETE,{data:a,src:a.src})}function d(a){a=a.target;f=!1;e.dispatchEvent(h.ERROR,{message:"Failed to load image "+a.src+".",src:a.src})}var e=g.extend(this,new h.eventdispatcher("utils.imageloader")),f,b;e.load=function(e){b=new Image;b.onload=a;b.onabort=d;b.onerror=d;f=!0;b.src=e};e.stop=function(){f&&(b=b.onload=b.onabort=b.onerror=null);f=!1};e.loading=function(){return f};
f=!1}})(slicease);
(function(d){var g=d.utils,h=d.events;g.timer=function(a,d){function e(){k++;f.dispatchEvent(h.SLICEASE_TIMER);0<f.repeatCount&&k>=f.repeatCount&&(f.stop(),f.dispatchEvent(h.SLICEASE_TIMER_COMPLETE))}var f=g.extend(this,new h.eventdispatcher("utils.timer")),b,k=0,l=!1;f.start=function(){!1===l&&(b=setInterval(e,f.delay),l=!0)};f.stop=function(){l&&(clearInterval(b),b=0,l=!1)};f.reset=function(){f.stop();k=0};f.currentCount=function(){return k};f.running=function(){return l};f.delay=a||50;f.repeatCount=
d||0}})(slicease);
(function(d){var g=d.utils,h=d.events,a={},k={onError:h.ERROR,onReady:h.SLICEASE_READY,onState:h.SLICEASE_STATE,onResize:h.SLICEASE_RESIZE};d.api=function(a){function e(a){b.dispatchEvent(a.type,a)}var b=g.extend(this,new h.eventdispatcher("api")),p;b.container=a;b.id=a.id;b.setup=function(a){g.emptyElement(b.container);d.debug=!!a.debug;b.config=a;b.config.id=b.id;b.embedder=new d.embed(b);b.embedder.addGlobalListener(e);b.embedder.embed();return b};b.setEntity=function(a,e){p=a;b.renderName=e;b.play=
p.play;b.stop=p.stop;b.prev=p.prev;b.next=p.next;b.getState=p.getState;b.resize=p.resize};(function(){g.foreach(k,function(a,e){b[a]=function(a){b.addEventListener(e,a)}})})()};d.api.getInstance=function(e){var f;null==e?e=0:e.nodeType?f=e:"string"===g.typeOf(e)&&(f=document.getElementById(e));if(f){var b=a[f.id];b||(a[e]=b=new d.api(f));return b}return"number"===g.typeOf(e)?a[e]:null};d.api.displayError=function(a,d){}})(slicease);
(function(d){var g=d.utils,h={LINEAR:"linear",EASE:"ease",EASE_IN:"ease-in",EASE_OUT:"ease-out",EASE_IN_OUT:"ease-in-out",ELASTIC:"elastic",WAVES_IN:"waves-in",CUBIC_BEZIER:"cubic-bezier"},a={linear:[0,0,1,1],ease:[.25,.1,.25,1],"ease-in":[.42,0,1,1],"ease-out":[0,0,.58,1],"ease-in-out":[.42,0,.58,1],elastic:[.42,2,.58,2],"waves-in":[.42,1,.58,1]},k={NORMAL:"normal",ALTERNATE:"alternate"};d.animation=function(e){function d(a,b){if("array"!=g.typeOf(a)||4>a.length)throw"Failed to shrink bezier points: Bad array!";
for(var e=[],f=0;f<a.length;f++){var k=a[f++],h=a[f++],p=a[f++],m=a[f];e.push(k+(p-k)*b);e.push(h+(m-h)*b)}2<e.length&&(e=d(e,b));return e}var b=this,p={duration:0,timingfunction:h.EASE,delay:0,iterationcount:1,direction:k.NORMAL,points:void 0,factor:.2},l,r,u;b.ease=function(a){if(0>=b.config.duration)return u[u.length-1];if(a<=b.config.delay)return u[1];a-=b.config.delay;var e=Math.ceil((a?a:1)/b.config.duration);if(-1!=b.config.iterationcount&&a>=b.config.iterationcount*b.config.duration)return b.config.direction==
k.ALTERNATE&&0==b.config.iterationcount%2?u[1]:u[u.length-1];var f=a%b.config.duration/b.config.duration;b.config.direction!=k.ALTERNATE||0!=e%2&&a!=b.config.duration||(f=1-f);a=d(u,f);b.config.timingfunction==h.ELASTIC&&2<e&&(a[1]*=1-b.config.factor^Math.ceil((e-2)/2));return a[1]};(function(){b.config=g.extend({},p,e);l=[0,0];r=[1,1];var f=[];switch(b.config.timingfunction){case h.WAVES_IN:b.config.direction=k.ALTERNATE;case h.ELASTIC:r=[1,0];case h.LINEAR:case h.EASE:case h.EASE_IN:case h.EASE_OUT:case h.EASE_IN_OUT:f=
a[b.config.timingfunction];break;case h.CUBIC_BEZIER:b.config.points&&(f=b.config.points)}u=l.concat(f,r)})()};d.animation.timingfunctions=h;d.animation.directions=k})(slicease);(function(d){d.core={}})(slicease);(function(d){d.core.states={IDLE:"idle",PLAYING:"playing",STOPPED:"stopped",ERROR:"error"}})(slicease);(function(d){d.core.renders={};d.core.renders.precisions={HIGH_P:"highp",MEDIUM_P:"mediump",LOW_P:"lowp"}})(slicease);(function(d){d.core.renders.modes={DEFAULT:"def"}})(slicease);
(function(d){var g=d.utils,h=d.events,a=d.animation;d=d.core.renders;var k=d.modes,e="attribute vec3 aVertexPosition;attribute vec4 aVertexColor;attribute vec2 aTextureCoord;attribute vec3 aVertexNormal;uniform mat4 uModelViewMatrix;uniform mat4 uProjectionMatrix;uniform mat4 uNormalMatrix;varying [precision] vec4 vVertexColor;varying [precision] vec2 vTextureCoord;varying [precision] vec3 vLighting;void main() { gl_Position = uProjectionMatrix * uModelViewMatrix * vec4(aVertexPosition, 1.0); vVertexColor = aVertexColor; vTextureCoord = aTextureCoord;}",
f="varying [precision] vec4 vVertexColor;varying [precision] vec2 vTextureCoord;uniform bool uUseTextures;uniform sampler2D uSampler;void main() { if (uUseTextures) {  gl_FragColor = texture2D(uSampler, vec2(vTextureCoord.s, vTextureCoord.t)); } else {  gl_FragColor = vVertexColor; }}";d.def=function(b,d){function p(a){return 0>=a?!1:0===(a-1&a)}function r(){B=y[0]+Math.round(Math.random()*(y[1]-y[0]));m.dispatchEvent(h.SLICEASE_RENDER_UPDATE_START,{pieces:B});n||(n=new g.timer(15),n.addEventListener(h.SLICEASE_TIMER,
u));n.reset();n.start()}function u(a){c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT);for(a=0;a<B;a++){var b,e=a,f=B;b=5/f;var d=[-b,2,2,-b,-2,2,b,-2,2,b,2,2,-b,-2,-2,-b,2,-2,b,2,-2,b,-2,-2,-b,2,-2,-b,2,2,b,2,2,b,2,-2,-b,-2,2,-b,-2,-2,b,-2,-2,b,-2,2,-b,2,-2,-b,-2,-2,-b,-2,2,-b,2,2,b,2,2,b,-2,2,b,-2,-2,b,2,-2];c.bindBuffer(c.ARRAY_BUFFER,P);c.bufferData(c.ARRAY_BUFFER,new Float32Array(d),c.STATIC_DRAW);c.vertexAttribPointer(G,3,c.FLOAT,!1,0,0);for(var d=[],g=0;24>g;g++)d=d.concat(m.config.profile);
c.bindBuffer(c.ARRAY_BUFFER,Q);c.bufferData(c.ARRAY_BUFFER,new Float32Array(d),c.STATIC_DRAW);c.vertexAttribPointer(H,4,c.FLOAT,!1,0,0);g=1/f;d=e*g;g*=e+1;d=[d,0,d,1,g,1,g,0,d,0,d,1,g,1,g,0,d,0,d,1,g,1,g,0,d,0,d,1,g,1,g,0,d,0,d,1,g,1,g,0,d,0,d,1,g,1,g,0];c.bindBuffer(c.ARRAY_BUFFER,R);c.bufferData(c.ARRAY_BUFFER,new Float32Array(d),c.STATIC_DRAW);c.vertexAttribPointer(I,2,c.FLOAT,!1,0,0);d=[0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23];c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,
J);c.bufferData(c.ELEMENT_ARRAY_BUFFER,new Uint16Array(d.slice(0,6)),c.STATIC_DRAW);c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,K);c.bufferData(c.ELEMENT_ARRAY_BUFFER,new Uint16Array(d.slice(6,12)),c.STATIC_DRAW);c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,L);c.bufferData(c.ELEMENT_ARRAY_BUFFER,new Uint16Array(d.slice(12,18)),c.STATIC_DRAW);c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,M);c.bufferData(c.ELEMENT_ARRAY_BUFFER,new Uint16Array(d.slice(18,24)),c.STATIC_DRAW);c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,N);c.bufferData(c.ELEMENT_ARRAY_BUFFER,
new Uint16Array(d.slice(24,30)),c.STATIC_DRAW);c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,O);c.bufferData(c.ELEMENT_ARRAY_BUFFER,new Uint16Array(d.slice(30,36)),c.STATIC_DRAW);E.config.delay=F.config.delay=200*e;f=(1-f+2*e)*b;e=-10*E.ease(n.currentCount()*n.delay);d=F.ease(n.currentCount()*n.delay)*Math.PI/2;b=mat4.create();mat4.lookAt(b,[0,0,12],[0,0,0],[0,1,0]);mat4.translate(b,b,[f,0,e]);mat4.rotateX(b,b,d);f=c.getUniformLocation(t,"uModelViewMatrix");c.uniformMatrix4fv(f,!1,b);b=mat4.create();mat4.perspective(b,
Math.PI/6,w.width/w.height,.1,100);f=c.getUniformLocation(t,"uProjectionMatrix");c.uniformMatrix4fv(f,!1,b);0<=q?(c.uniform1i(c.getUniformLocation(t,"uUseTextures"),!0),b=c["TEXTURE"+q],c.activeTexture(b),c.bindTexture(c.TEXTURE_2D,A[q]),c.uniform1i(c.getUniformLocation(t,"uSampler"),q)):c.uniform1i(c.getUniformLocation(t,"uUseTextures"),!1);c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,J);c.drawElements(c.TRIANGLES,6,c.UNSIGNED_SHORT,0);c.uniform1i(c.getUniformLocation(t,"uUseTextures"),!0);c.activeTexture(c["TEXTURE"+
x]);c.bindTexture(c.TEXTURE_2D,A[x]);c.uniform1i(c.getUniformLocation(t,"uSampler"),x);c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,L);c.drawElements(c.TRIANGLES,6,c.UNSIGNED_SHORT,0);c.uniform1i(c.getUniformLocation(t,"uUseTextures"),!1);c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,K);c.drawElements(c.TRIANGLES,6,c.UNSIGNED_SHORT,0);c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,M);c.drawElements(c.TRIANGLES,6,c.UNSIGNED_SHORT,0);c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,N);c.drawElements(c.TRIANGLES,6,c.UNSIGNED_SHORT,0);c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,
O);c.drawElements(c.TRIANGLES,6,c.UNSIGNED_SHORT,0)}n.currentCount()*n.delay>=1200+200*(B-1)&&(n&&n.stop(),v=!1,m.dispatchEvent(h.SLICEASE_RENDER_UPDATE_END))}var m=g.extend(this,new h.eventdispatcher("renders.def")),v=!1,q=-1,x=-1,y,B,z,n,A,E,F,w,c,t,C,D,G,H,I,P,Q,R,J,K,L,M,N,O;m.setup=function(){y=m.config.range.split("-");y[0]=parseInt(y[0]);y[1]=parseInt(y[1]||y[0]);A=Array(m.config.sources.length);D=c.createShader(c.VERTEX_SHADER);c.shaderSource(D,e);c.compileShader(D);c.getShaderParameter(D,
c.COMPILE_STATUS)?(C=c.createShader(c.FRAGMENT_SHADER),c.shaderSource(C,f),c.compileShader(C),c.getShaderParameter(C,c.COMPILE_STATUS)?(t=c.createProgram(),c.attachShader(t,D),c.attachShader(t,C),c.linkProgram(t),c.getProgramParameter(t,c.LINK_STATUS)?(c.useProgram(t),G=c.getAttribLocation(t,"aVertexPosition"),c.enableVertexAttribArray(G),H=c.getAttribLocation(t,"aVertexColor"),c.enableVertexAttribArray(H),I=c.getAttribLocation(t,"aTextureCoord"),c.enableVertexAttribArray(I)):m.dispatchEvent(h.SLICEASE_RENDER_ERROR,
{message:"Failed to create WebGLProgram."})):(g.log(c.getShaderInfoLog(C)),m.dispatchEvent(h.SLICEASE_RENDER_ERROR,{message:"Failed to compile fragment shader."}))):(g.log(c.getShaderInfoLog(D)),m.dispatchEvent(h.SLICEASE_RENDER_ERROR,{message:"Failed to compile vertex shader."}));P=c.createBuffer();Q=c.createBuffer();R=c.createBuffer();J=c.createBuffer();K=c.createBuffer();L=c.createBuffer();M=c.createBuffer();N=c.createBuffer();O=c.createBuffer()};m.play=function(a){v?g.log("Render busy!"):0>a||
a>=m.config.sources.length?g.log("Index out of bounds!"):(v=!0,q=x,x=a,0>q||void 0==A[x]?z.load(m.config.sources[x]):r())};m.stop=function(){z&&z.stop()};m.element=function(){return w};m.resize=function(a,b){w.width=a||m.config.width;w.height=b||m.config.height};m.destroy=function(){};m.name=k.DEFAULT;m.config=g.extend({},{},d);e=e.replace(/\[precision\]/g,m.config.precision);f=f.replace(/\[precision\]/g,m.config.precision);z=new g.imageloader;z.addEventListener(h.SLICEASE_COMPLETE,function(a){g.log("Loaded image "+
a.src+".");a=a.data;var b=A[x]=c.createTexture();c.bindTexture(c.TEXTURE_2D,b);c.texImage2D(c.TEXTURE_2D,0,c.RGBA,c.RGBA,c.UNSIGNED_BYTE,a);p(a.width)&&p(a.height)?(c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,c.LINEAR),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,c.LINEAR_MIPMAP_NEAREST),c.generateMipmap(c.TEXTURE_2D)):(c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,c.LINEAR),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,
c.CLAMP_TO_EDGE));c.bindTexture(c.TEXTURE_2D,null);r()});z.addEventListener(h.ERROR,function(a){g.log(a.message)});E=new a({duration:600,timingfunction:a.timingfunctions.EASE_OUT,iterationcount:2,direction:a.directions.ALTERNATE});F=new a({duration:1200,timingfunction:a.timingfunctions.EASE_IN_OUT});w=g.createElement("canvas");w.innerHTML="<a>Canvas not supported! </a><a>Please open in a browser listed below: </a><a>Chrome, Firefox, Opera, Safari, Edge, 360.</a>";w.width=m.config.width;w.height=m.config.height;
c=w.getContext("webgl")||w.getContext("experimental-webgl");c.viewport(0,0,w.width,w.height);c.clearDepth(1);c.enable(c.DEPTH_TEST);c.enable(c.CULL_FACE);c.depthFunc(c.LEQUAL)}})(slicease);(function(d){d.core.skins={}})(slicease);(function(d){d.core.skins.modes={DEFAULT:"def"}})(slicease);
(function(d){var g=d.utils,h=d.events;d=d.core.skins;var a=d.modes,k=g.css,e="sli-skin";d.def=function(d){var b=g.extend(this,new h.eventdispatcher("skins.def")),f=d.width;d=d.height;b.resize=function(a,b){};b.name=a.DEFAULT;e+="-"+b.name;k(".sli-wrapper",{width:f+"px",height:d+"px","box-shadow":"0 1px 1px rgba(0, 0, 0, 0.05)"});k(".sli-wrapper *",{margin:"0",padding:"0","font-family":"\u5fae\u8f6f\u96c5\u9ed1,arial,sans-serif","font-size":"14px","font-weight":"normal","box-sizing":"content-box"});
k("."+e+" .sli-render",{width:"100%",height:"100%",position:"relative"});k("."+e+" .sli-render canvas",{"background-color":"#585862"})}})(slicease);
(function(d){var g=d.utils,h=d.events,a=d.core;a.entity=function(d){var e=g.extend(this,new h.eventdispatcher("core.entity")),f,b,k;e.setup=function(){setTimeout(function(){b.setup()},0)};e.destroy=function(){k&&k.stop();b&&b.destroy();f&&f.destroy()};e.id=d.id;e.model=f=new a.model(d);e.view=b=new a.view(e,f);e.controller=k=new a.controller(f,b);k.addGlobalListener(function(a){e.dispatchEvent(a.type,a)});e.play=k.play;e.stop=k.stop;e.prev=k.prev;e.next=k.next;e.getState=f.getState;e.resize=b.resize}})(slicease);
(function(d){var g=d.utils,h=d.events;d=d.core;var a=d.states;d.model=function(d){var e=g.extend(this,new h.eventdispatcher("core.model")),f=a.STOPPED;e.setState=function(a){a!==f&&(f=a,e.dispatchEvent(h.SLCIEASE_STATE,{state:a}))};e.getState=function(){return f};e.getConfig=function(a){return e.config[a]||{}};e.destroy=function(){};e.config=g.extend({},{},d)}})(slicease);
(function(d){var g=d.utils,h=d.events;d=d.core;var a=d.renders,k=d.skins;d.view=function(d,f){function b(){var b=g.extend({},f.getConfig("render"),{id:d.id,width:f.config.width,height:f.config.height,sources:f.config.sources,range:f.config.range});try{n=v.render=new a[b.name](v,b),n.addEventListener(h.SLICEASE_RENDER_UPDATE_START,r),n.addEventListener(h.SLICEASE_RENDER_UPDATE_END,u),n.addEventListener(h.SLICEASE_RENDER_ERROR,m)}catch(F){g.log("Failed to init render "+b.name+"!")}n&&x.appendChild(n.element())}
function e(){var a=g.extend({},f.getConfig("skin"),{id:d.id,width:f.config.width,height:f.config.height});try{A=new k[a.name](a)}catch(F){g.log("Failed to init skin "+a.name+"!")}}function l(a){if(a.ctrlKey||a.metaKey)return!0;if(/13|32/.test(a.keyCode))return a.preventDefault?a.preventDefault():a.returnValue=!1,!1}function r(a){v.dispatchEvent(a.type,a)}function u(a){v.dispatchEvent(a.type,a)}function m(a){v.dispatchEvent(a.type,a)}var v=g.extend(this,new h.eventdispatcher("core.view")),q,x,y,B,
z,n,A;v.setup=function(){if(n){n.setup();try{q.addEventListener("keydown",l)}catch(E){q.attachEvent("onkeydown",l)}v.dispatchEvent(h.SLICEASE_READY)}else v.dispatchEvent(h.SLICEASE_SETUP_ERROR,{message:"Render not available!",name:f.config.render.name})};v.resize=function(a,b){n&&n.resize(a,b);A&&A.resize(a,b)};v.destroy=function(){if(q)try{q.removeEventListener("keydown",l)}catch(E){q.detachEvent("onkeydown",l)}n&&n.destroy()};(function(){q=g.createElement("div","sli-wrapper sli-skin-"+f.config.skin.name);
q.id=d.id;q.tabIndex=0;x=g.createElement("div","sli-render");y=g.createElement("div","sli-poster");B=g.createElement("div","sli-controls");z=g.createElement("div","sli-contextmenu");q.appendChild(x);q.appendChild(y);q.appendChild(B);q.appendChild(z);b();e();var a=document.getElementById(d.id);a.parentNode.replaceChild(q,a);window.onresize=function(){"function"===g.typeOf(f.config.onresize)&&f.config.onresize.call(null)}})()}})(slicease);
(function(d){var g=d.utils,h=d.events;d=d.core;var a=d.states;d.controller=function(d,e){function f(a){b.next()}var b=g.extend(this,new h.eventdispatcher("core.controller")),k=!1,l=-1,r;b.play=function(a){void 0===a?b.next():(l=Math.min(Math.max(a,0),d.config.sources.length-1),e.render.play(l))};b.stop=function(){_loader.stop();r&&r.stop();d.setState(a.STOPPED);e.render.stop()};b.prev=function(){0===l--&&(l=d.config.sources.length-1);e.render.play(l)};b.next=function(){l++===d.config.sources.length-
1&&(l=0);e.render.play(l)};d.addEventListener(h.SLICEASE_STATE,function(d){switch(d.state){case a.IDLE:case a.PLAYING:case a.STOPPED:case a.ERROR:b.dispatchEvent(h.SLICEASE_STATE,{state:d.state,index:l});break;default:b.dispatchEvent(h.ERROR,{message:"Unknown model state!",state:d.state})}});e.addEventListener(h.SLICEASE_READY,function(a){k||(k=!0,b.dispatchEvent(a.type,a),b.play(0),window.onbeforeunload=function(a){})});e.addEventListener(h.SLICEASE_SETUP_ERROR,function(e){d.setState(a.ERROR);b.dispatchEvent(e.type,
e)});e.addEventListener(h.SLICEASE_VIEW_PLAY,function(e){d.getState()!==a.PLAYING&&b.play(e.index)});e.addEventListener(h.SLICEASE_VIEW_STOP,function(a){b.stop()});e.addEventListener(h.SLICEASE_VIEW_PREV,function(a){b.prev()});e.addEventListener(h.SLICEASE_VIEW_NEXT,function(a){b.next()});e.addEventListener(h.SLICEASE_RENDER_UPDATE_START,function(b){g.log("onUpdateStart");d.setState(a.PLAYING)});e.addEventListener(h.SLICEASE_RENDER_UPDATE_END,function(b){g.log("onUpdateEnd");d.setState(a.IDLE);r||
(r=new g.timer(d.config.interval,1),r.addEventListener(h.SLICEASE_TIMER,f));r.reset();r.start()});e.addEventListener(h.SLICEASE_RENDER_ERROR,function(e){d.setState(a.ERROR);b.dispatchEvent(e.type,e)})}})(slicease);
(function(d){var g=d.utils,h=d.events,a=d.embed=function(k){function e(a){switch(a.type){case h.ERROR:case h.SLICEASE_SETUP_ERROR:case h.SLICEASE_RENDER_ERROR:f.errorScreen(a.message);f.dispatchEvent(h.ERROR,a);break;default:f.dispatchEvent(a.type,a)}}var f=g.extend(this,new h.eventdispatcher("embed")),b={},p=null,l=!1;f.embed=function(){try{b=new a.config(k.config),p=new a.embedder(k,b)}catch(r){g.log("Failed to init embedder!");f.dispatchEvent(h.SLICEASE_SETUP_ERROR,{message:"Failed to init embedder!",
render:b.render.name});return}p.addGlobalListener(e);p.embed()};f.errorScreen=function(a){l||(l=!0,d.api.displayError(a,b))};(function(){g.foreach(k.config.events,function(a,b){a=k[a];"function"===g.typeOf(a)&&a.call(k,b)})})()}})(slicease);
(function(d){var g=d.utils,h=d.embed;d=d.core;var a=d.renders,k=a.precisions,e=a.modes,f=d.skins.modes;h.config=function(a){return g.extend({},{width:640,height:360,sources:[],range:"3-10",controls:!0,interval:5E3,render:{name:e.DEFAULT,precision:k.HIGH_P,profile:[.6,.6,.6,1]},skin:{name:f.DEFAULT}},a)};h.config.addConfig=function(a,d){return g.extend(a,d)}})(slicease);
(function(d){var g=d.utils,h=d.events,a=d.core;d.embed.embedder=function(d,e){function f(a){b.dispatchEvent(a.type,a)}var b=g.extend(this,new h.eventdispatcher("embed.embedder"));b.embed=function(){var b=new a.entity(e);b.addGlobalListener(f);b.setup();d.setEntity(b,e.render.name)}}})(slicease);