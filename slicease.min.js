slicease=function(){if(slicease.api)return slicease.api.getInstance.apply(this,arguments)};slicease.version="3.0.00";
(function(c){var d=c.utils={};d.exists=function(a){switch(d.typeOf(a)){case "string":return 0<a.length;case "object":return null!==a;case "null":return!1}return!0};d.extend=function(){var a=Array.prototype.slice.call(arguments,0),k=a[0];if(1<a.length)for(var f=1;f<a.length;f++)d.foreach(a[f],function(g,b){void 0!==b&&null!==b&&(k[g]=b)});return k};d.foreach=function(a,k){for(var f in a)a.hasOwnProperty&&"function"===d.typeOf(a.hasOwnProperty)?a.hasOwnProperty(f)&&k(f,a[f]):k(f,a[f])};d.getCookie=
function(a){var d;return(d=document.cookie.match(new RegExp("(^| )"+a+"=([^;]*)(;|$)")))?unescape(d[2]):null};d.formatTime=function(a){var k=a.getHours()+1,f=a.getMinutes(),g=a.getSeconds();return a.toLocaleDateString()+" "+d.pad(k,2)+":"+d.pad(f,2)+":"+d.pad(g,2)};d.pad=function(a,d){for(a+="";a.length<d;)a="0"+a;return a};d.createElement=function(a,d){a=document.createElement(a);d&&(a.className=d);return a};d.addClass=function(a,c){var f="string"===d.typeOf(a.className)?a.className.split(" "):[];
c="array"===d.typeOf(c)?c:c.split(" ");d.foreach(c,function(g,b){-1===d.indexOf(f,b)&&f.push(b)});a.className=d.trim(f.join(" "))};d.removeClass=function(a,c){var f="string"===d.typeOf(a.className)?a.className.split(" "):[];c="array"===d.typeOf(c)?c:c.split(" ");d.foreach(c,function(g,b){g=d.indexOf(f,b);0<=g&&f.splice(g,1)});a.className=d.trim(f.join(" "))};d.emptyElement=function(a){for(;a.firstChild;)a.removeChild(a.firstChild)};d.typeOf=function(a){if(null===a||void 0===a)return"null";var d=typeof a;
if("object"===d)try{if("[object Array]"===toString.call(a))return"array"}catch(f){}return d};d.trim=function(a){return a.replace(/^\s+|\s+$/g,"")};d.indexOf=function(a,d){if(null==a)return-1;for(var f=0;f<a.length;f++)if(a[f]===d)return f;return-1};d.isMSIE=function(a){return a?(a=parseFloat(a).toFixed(1),a=new RegExp("msie\\s*"+a,"i"),null!==navigator.userAgent.toLowerCase().match(a)):null!==navigator.userAgent.toLowerCase().match(/msie/i)};var h=window.console=window.console||{log:function(){}};
d.log=function(){var a=Array.prototype.slice.call(arguments,0);"object"===d.typeOf(h.log)?h.log(a):h.log.apply(h,a)}})(slicease);
(function(c){function d(){var a=document.createElement("style");a.type="text/css";document.getElementsByTagName("head")[0].appendChild(a);return a.sheet||a.styleSheet}var h=c.utils,a;(h.css=function(c,f){a||(a=d());var g="";h.foreach(f,function(b,a){g+=b+": "+a+"; "});try{a.insertRule?a.insertRule(c+" { "+g+"}",a.cssRules.length):a.addRule(c,g,a.rules.length)}catch(b){h.log("Failed to insert css rule: "+c)}}).style=function(a,d,g){if(void 0!==a&&null!==a)for(void 0===a.length&&(a=[a]),d=h.extend({},
d),g=0;g<a.length;g++){var b=a[g];void 0!==b&&null!==b&&h.foreach(d,function(a,g){a=a.split("-");for(var d=1;d<a.length;d++)a[d]=a[d].charAt(0).toUpperCase()+a[d].slice(1);a=a.join("");b.style[a]!==g&&(b.style[a]=g)})}}})(slicease);
(function(c){c.events={ERROR:"error",SLICEASE_READY:"sliceaseReady",SLICEASE_SETUP_ERROR:"sliceaseSetupError",SLICEASE_RENDER_ERROR:"sliceaseRenderError",SLICEASE_STATE:"sliceaseState",SLICEASE_VIEW_PLAY:"sliceaseViewPlay",SLICEASE_VIEW_STOP:"sliceaseViewStop",SLICEASE_VIEW_PREV:"sliceaseViewPrev",SLICEASE_VIEW_NEXT:"sliceaseViewNext",SLICEASE_RENDER_UPDATE_START:"sliceaseRenderUpdateStart",SLICEASE_RENDER_UPDATE_END:"sliceaseRenderUpdateEnd",SLICEASE_RESIZE:"sliceaseResize",SLICEASE_PROGRESS:"sliceaseProgress",
SLICEASE_COMPLETE:"sliceaseComplete",SLICEASE_TIMER:"sliceaseTimer",SLICEASE_TIMER_COMPLETE:"sliceaseTimerComplete"}})(slicease);
(function(c){var d=c.utils;c.events.eventdispatcher=function(h){function a(a,b,c){if(a)for(var g=0;g<a.length;g++){var f=a[g];if(f){null!==f.count&&0===--f.count&&delete a[g];try{f.listener(b)}catch(u){d.log('Error handling "'+c+'" event listener ['+g+"]: "+u.toString(),f.listener,b)}}}}var k={},f=[];this.addEventListener=function(a,b,f){try{d.exists(k[a])||(k[a]=[]),"string"===d.typeOf(b)&&(b=(new Function("return "+b))()),k[a].push({listener:b,count:f||null})}catch(l){d.log("error",l)}return!1};
this.removeEventListener=function(a,b){if(k[a]){try{if(void 0===b){k[a]=[];return}var f;for(f=0;f<k[a].length;f++)if(k[a][f].listener.toString()===b.toString()){k[a].splice(f,1);break}}catch(l){d.log("error",l)}return!1}};this.addGlobalListener=function(a,b){try{"string"===d.typeOf(a)&&(a=(new Function("return "+a))()),f.push({listener:a,count:b||null})}catch(p){d.log("error",p)}return!1};this.removeGlobalListener=function(a){if(a){try{var b;for(b=f.length-1;0<=b;b--)f[b].listener.toString()===a.toString()&&
f.splice(b,1)}catch(p){d.log("error",p)}return!1}};this.dispatchEvent=function(g,b){b||(b={});d.extend(b,{id:h,version:c.version,type:g});c.debug&&d.log(g,b);a(k[g],b,g);a(f,b,g)}}})(slicease);
(function(c){var d=c.utils,h=c.events;d.imageloader=function(){function a(a){a=a.target;g=!1;f.dispatchEvent(h.SLICEASE_COMPLETE,{data:a,src:a.src})}function c(a){a=a.target;g=!1;f.dispatchEvent(h.ERROR,{message:"Failed to load image "+a.src+".",src:a.src})}var f=d.extend(this,new h.eventdispatcher("utils.imageloader")),g,b;f.load=function(d){b=new Image;b.onload=a;b.onabort=c;b.onerror=c;g=!0;b.src=d};f.stop=function(){g&&(b=b.onload=b.onabort=b.onerror=null);g=!1};f.loading=function(){return g};
g=!1}})(slicease);
(function(c){var d=c.utils,h=c.events;d.timer=function(a,c){function f(){k++;g.dispatchEvent(h.SLICEASE_TIMER);0<g.repeatCount&&k>=g.repeatCount&&(g.stop(),g.dispatchEvent(h.SLICEASE_TIMER_COMPLETE))}var g=d.extend(this,new h.eventdispatcher("utils.timer")),b,k=0,l=!1;g.start=function(){!1===l&&(b=setInterval(f,g.delay),l=!0)};g.stop=function(){l&&(clearInterval(b),b=0,l=!1)};g.reset=function(){g.stop();k=0};g.currentCount=function(){return k};g.running=function(){return l};g.delay=a||50;g.repeatCount=
c||0}})(slicease);
(function(c){var d=c.utils,h=c.events,a={},k={onError:h.ERROR,onReady:h.SLICEASE_READY,onState:h.SLICEASE_STATE,onResize:h.SLICEASE_RESIZE};c.api=function(a){function f(a){b.dispatchEvent(a.type,a)}var b=d.extend(this,new h.eventdispatcher("api")),p;b.container=a;b.id=a.id;b.setup=function(a){d.emptyElement(b.container);c.debug=!!a.debug;b.config=a;b.config.id=b.id;b.embedder=new c.embed(b);b.embedder.addGlobalListener(f);b.embedder.embed();return b};b.setEntity=function(a,d){p=a;b.renderName=d;b.play=
p.play;b.stop=p.stop;b.prev=p.prev;b.next=p.next;b.getState=p.getState;b.resize=p.resize};(function(){d.foreach(k,function(a,d){b[a]=function(a){b.addEventListener(d,a)}})})()};c.api.getInstance=function(f){var g;null==f?f=0:f.nodeType?g=f:"string"===d.typeOf(f)&&(g=document.getElementById(f));if(g){var b=a[g.id];b||(a[f]=b=new c.api(g));return b}return"number"===d.typeOf(f)?a[f]:null};c.api.displayError=function(a,d){}})(slicease);
(function(c){var d=c.utils,h={LINEAR:"linear",EASE:"ease",EASE_IN:"ease-in",EASE_OUT:"ease-out",EASE_IN_OUT:"ease-in-out",ELASTIC:"elastic",WAVES_IN:"waves-in",CUBIC_BEZIER:"cubic-bezier"},a={linear:[0,0,1,1],ease:[.25,.1,.25,1],"ease-in":[.42,0,1,1],"ease-out":[0,0,.58,1],"ease-in-out":[.42,0,.58,1],elastic:[.42,2,.58,2],"waves-in":[.42,1,.58,1]},k={NORMAL:"normal",ALTERNATE:"alternate"};c.animation=function(f){function c(a,b){if("array"!=d.typeOf(a)||4>a.length)throw"Failed to shrink bezier points: Bad array!";
for(var f=[],g=0;g<a.length;g++){var h=a[g++],k=a[g++],p=a[g++],m=a[g];f.push(h+(p-h)*b);f.push(k+(m-k)*b)}2<f.length&&(f=c(f,b));return f}var b=this,p={duration:0,timingfunction:h.EASE,delay:0,iterationcount:1,direction:k.NORMAL,points:void 0,factor:.2},l,r,u;b.ease=function(a){if(0>=b.config.duration)return u[u.length-1];if(a<=b.config.delay)return u[1];a-=b.config.delay;var d=Math.ceil((a?a:1)/b.config.duration);if(-1!=b.config.iterationcount&&a>=b.config.iterationcount*b.config.duration)return b.config.direction==
k.ALTERNATE&&0==b.config.iterationcount%2?u[1]:u[u.length-1];var f=a%b.config.duration/b.config.duration;b.config.direction!=k.ALTERNATE||0!=d%2&&a!=b.config.duration||(f=1-f);a=c(u,f);b.config.timingfunction==h.ELASTIC&&2<d&&(a[1]*=1-b.config.factor^Math.ceil((d-2)/2));return a[1]};(function(){b.config=d.extend({},p,f);l=[0,0];r=[1,1];var c=[];switch(b.config.timingfunction){case h.WAVES_IN:b.config.direction=k.ALTERNATE;case h.ELASTIC:r=[1,0];case h.LINEAR:case h.EASE:case h.EASE_IN:case h.EASE_OUT:case h.EASE_IN_OUT:c=
a[b.config.timingfunction];break;case h.CUBIC_BEZIER:b.config.points&&(c=b.config.points)}u=l.concat(c,r)})()};c.animation.timingfunctions=h;c.animation.directions=k})(slicease);(function(c){c.core={}})(slicease);(function(c){c.core.states={IDLE:"idle",PLAYING:"playing",STOPPED:"stopped",ERROR:"error"}})(slicease);(function(c){c.core.renders={};c.core.renders.precisions={HIGH_P:"highp",MEDIUM_P:"mediump",LOW_P:"lowp"}})(slicease);(function(c){c.core.renders.modes={DEFAULT:"def"}})(slicease);
(function(c){var d=c.utils,h=c.events,a=c.animation;c=c.core.renders;var k=c.modes,f="attribute vec3 aVertexPosition;attribute vec2 aTextureCoord;uniform mat4 uModelViewMatrix;uniform mat4 uProjectionMatrix;varying [precision] vec2 vTextureCoord;void main() { gl_Position = uProjectionMatrix * uModelViewMatrix * vec4(aVertexPosition, 1.0); vTextureCoord = aTextureCoord;}",g="varying [precision] vec2 vTextureCoord;uniform sampler2D uSampler;void main() { gl_FragColor = texture2D(uSampler, vec2(vTextureCoord.s, vTextureCoord.t));}";
c.def=function(b,c){function p(a){return 0>=a?!1:0===(a-1&a)}function r(){B=x[0]+Math.round(Math.random()*(x[1]-x[0]));m.dispatchEvent(h.SLICEASE_RENDER_UPDATE_START,{pieces:B});n||(n=new d.timer(15),n.addEventListener(h.SLICEASE_TIMER,u));n.reset();n.start()}function u(a){e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT);for(a=0;a<B;a++){var b,d=a,f=B;b=5/f;var c=[-b,2,2,-b,-2,2,b,-2,2,b,2,2,-b,-2,-2,-b,2,-2,b,2,-2,b,-2,-2,-b,2,-2,-b,2,2,b,2,2,b,2,-2,-b,-2,2,-b,-2,-2,b,-2,-2,b,-2,2,-b,2,-2,-b,-2,-2,
-b,-2,2,-b,2,2,b,2,2,b,-2,2,b,-2,-2,b,2,-2];e.bindBuffer(e.ARRAY_BUFFER,K);e.bufferData(e.ARRAY_BUFFER,new Float32Array(c),e.STATIC_DRAW);e.vertexAttribPointer(G,3,e.FLOAT,!1,0,0);var g=1/f,c=d*g,g=(d+1)*g,c=[c,0,c,1,g,1,g,0,c,0,c,1,g,1,g,0,c,0,c,1,g,1,g,0,c,0,c,1,g,1,g,0,c,0,c,1,g,1,g,0,c,0,c,1,g,1,g,0];e.bindBuffer(e.ARRAY_BUFFER,L);e.bufferData(e.ARRAY_BUFFER,new Float32Array(c),e.STATIC_DRAW);e.vertexAttribPointer(H,2,e.FLOAT,!1,0,0);c=[0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,
16,17,18,16,18,19,20,21,22,20,22,23];e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,I);e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array(c.slice(0,6)),e.STATIC_DRAW);e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,M);e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array(c.slice(6,12)),e.STATIC_DRAW);e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,J);e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array(c.slice(12,18)),e.STATIC_DRAW);e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,N);e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array(c.slice(18,
24)),e.STATIC_DRAW);e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,O);e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array(c.slice(24,30)),e.STATIC_DRAW);e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,P);e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array(c.slice(30,36)),e.STATIC_DRAW);E.config.delay=F.config.delay=200*d;f=(1-f+2*d)*b;d=-10*E.ease(n.currentCount()*n.delay);c=F.ease(n.currentCount()*n.delay)*Math.PI/2;b=mat4.create();mat4.lookAt(b,[0,0,12],[0,0,0],[0,1,0]);mat4.translate(b,b,[f,0,d]);mat4.rotateX(b,b,c);
f=e.getUniformLocation(y,"uModelViewMatrix");e.uniformMatrix4fv(f,!1,b);b=mat4.create();mat4.perspective(b,Math.PI/6,v.width/v.height,.1,100);f=e.getUniformLocation(y,"uProjectionMatrix");e.uniformMatrix4fv(f,!1,b);0<=q&&(b=e["TEXTURE"+q],e.activeTexture(b),e.bindTexture(e.TEXTURE_2D,A[q]),e.uniform1i(e.getUniformLocation(y,"uSampler"),q),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,I),e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0));e.activeTexture(e["TEXTURE"+w]);e.bindTexture(e.TEXTURE_2D,A[w]);e.uniform1i(e.getUniformLocation(y,
"uSampler"),w);e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,J);e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0)}n.currentCount()*n.delay>=1200+200*(B-1)&&(n&&n.stop(),t=!1,m.dispatchEvent(h.SLICEASE_RENDER_UPDATE_END))}var m=d.extend(this,new h.eventdispatcher("renders.def")),t=!1,q=-1,w=-1,x,B,z,n,A,E,F,v,e,y,C,D,G,H,K,L,I,M,J,N,O,P;m.setup=function(){x=m.config.range.split("-");x[0]=parseInt(x[0]);x[1]=parseInt(x[1]||x[0]);A=Array(m.config.sources.length);D=e.createShader(e.VERTEX_SHADER);e.shaderSource(D,
f);e.compileShader(D);e.getShaderParameter(D,e.COMPILE_STATUS)?(C=e.createShader(e.FRAGMENT_SHADER),e.shaderSource(C,g),e.compileShader(C),e.getShaderParameter(C,e.COMPILE_STATUS)?(y=e.createProgram(),e.attachShader(y,D),e.attachShader(y,C),e.linkProgram(y),e.getProgramParameter(y,e.LINK_STATUS)?(e.useProgram(y),G=e.getAttribLocation(y,"aVertexPosition"),e.enableVertexAttribArray(G),H=e.getAttribLocation(y,"aTextureCoord"),e.enableVertexAttribArray(H)):m.dispatchEvent(h.SLICEASE_RENDER_ERROR,{message:"Failed to create WebGLProgram."})):
(d.log(e.getShaderInfoLog(C)),m.dispatchEvent(h.SLICEASE_RENDER_ERROR,{message:"Failed to compile fragment shader."}))):(d.log(e.getShaderInfoLog(D)),m.dispatchEvent(h.SLICEASE_RENDER_ERROR,{message:"Failed to compile vertex shader."}));K=e.createBuffer();L=e.createBuffer();I=e.createBuffer();M=e.createBuffer();J=e.createBuffer();N=e.createBuffer();O=e.createBuffer();P=e.createBuffer()};m.play=function(a){t?d.log("Render busy!"):0>a||a>=m.config.sources.length?d.log("Index out of bounds!"):(t=!0,
q=w,w=a,0>q||void 0==A[w]?z.load(m.config.sources[w]):r())};m.stop=function(){z&&z.stop()};m.element=function(){return v};m.resize=function(a,b){v.width=a||m.config.width;v.height=b||m.config.height};m.destroy=function(){};m.name=k.DEFAULT;m.config=d.extend({},{},c);f=f.replace(/\[precision\]/,m.config.precision);g=g.replace(/\[precision\]/,m.config.precision);z=new d.imageloader;z.addEventListener(h.SLICEASE_COMPLETE,function(a){d.log("Loaded image "+a.src+".");a=a.data;var b=A[w]=e.createTexture();
e.bindTexture(e.TEXTURE_2D,b);e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,a);p(a.width)&&p(a.height)?(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR_MIPMAP_NEAREST),e.generateMipmap(e.TEXTURE_2D)):(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE));e.bindTexture(e.TEXTURE_2D,null);
r()});z.addEventListener(h.ERROR,function(a){d.log(a.message)});E=new a({duration:600,timingfunction:a.timingfunctions.EASE_OUT,iterationcount:2,direction:a.directions.ALTERNATE});F=new a({duration:1200,timingfunction:a.timingfunctions.EASE_IN_OUT});v=d.createElement("canvas");v.innerHTML="<a>Canvas not supported! </a><a>Please open in a browser listed below: </a><a>Chrome, Firefox, Opera, Safari, Edge, 360.</a>";v.width=m.config.width;v.height=m.config.height;e=v.getContext("webgl")||v.getContext("experimental-webgl");
e.viewport(0,0,v.width,v.height);e.clearColor(0,0,0,1);e.clearDepth(1);e.enable(e.DEPTH_TEST);e.enable(e.CULL_FACE);e.depthFunc(e.LEQUAL)}})(slicease);(function(c){c.core.skins={}})(slicease);(function(c){c.core.skins.modes={DEFAULT:"def"}})(slicease);
(function(c){var d=c.utils,h=c.events;c=c.core.skins;var a=c.modes,k=d.css;c.def=function(c){var f=d.extend(this,new h.eventdispatcher("skins.def")),b=c.width;c=c.height;f.resize=function(a,b){};f.name=a.DEFAULT;k(".sli-wrapper",{width:b+"px",height:c+"px","box-shadow":"0 1px 1px rgba(0, 0, 0, 0.05)"});k(".sli-wrapper *",{margin:"0",padding:"0","font-family":"\u5fae\u8f6f\u96c5\u9ed1,arial,sans-serif","font-size":"14px","font-weight":"normal","box-sizing":"content-box"});k(".sli-render",{width:b-
2+"px",height:c-2+"px",border:"1px solid #1184ce","border-radius":"4px",position:"relative"})}})(slicease);
(function(c){var d=c.utils,h=c.events,a=c.core;a.entity=function(c){var f=d.extend(this,new h.eventdispatcher("core.entity")),g,b,k;f.setup=function(){setTimeout(function(){b.setup()},0)};f.destroy=function(){k&&k.stop();b&&b.destroy();g&&g.destroy()};f.id=c.id;f.model=g=new a.model(c);f.view=b=new a.view(f,g);f.controller=k=new a.controller(g,b);k.addGlobalListener(function(a){f.dispatchEvent(a.type,a)});f.play=k.play;f.stop=k.stop;f.prev=k.prev;f.next=k.next;f.getState=g.getState;f.resize=b.resize}})(slicease);
(function(c){var d=c.utils,h=c.events;c=c.core;var a=c.states;c.model=function(c){var f=d.extend(this,new h.eventdispatcher("core.model")),g=a.STOPPED;f.setState=function(a){a!==g&&(g=a,f.dispatchEvent(h.SLCIEASE_STATE,{state:a}))};f.getState=function(){return g};f.getConfig=function(a){return f.config[a]||{}};f.destroy=function(){};f.config=d.extend({},{},c)}})(slicease);
(function(c){var d=c.utils,h=c.events;c=c.core;var a=c.renders,k=c.skins;c.view=function(c,g){function b(){var b=d.extend({},g.getConfig("render"),{id:c.id,width:g.config.width,height:g.config.height,sources:g.config.sources,range:g.config.range});try{n=t.render=new a[b.name](t,b),n.addEventListener(h.SLICEASE_RENDER_UPDATE_START,r),n.addEventListener(h.SLICEASE_RENDER_UPDATE_END,u),n.addEventListener(h.SLICEASE_RENDER_ERROR,m)}catch(F){d.log("Failed to init render "+b.name+"!")}n&&w.appendChild(n.element())}
function f(){var a=d.extend({},g.getConfig("skin"),{id:c.id,width:g.config.width,height:g.config.height});try{A=new k[a.name](t,a)}catch(F){d.log("Failed to init skin "+a.name+"!")}}function l(a){if(a.ctrlKey||a.metaKey)return!0;if(/13|32/.test(a.keyCode))return a.preventDefault?a.preventDefault():a.returnValue=!1,!1}function r(a){t.dispatchEvent(a.type,a)}function u(a){t.dispatchEvent(a.type,a)}function m(a){t.dispatchEvent(a.type,a)}var t=d.extend(this,new h.eventdispatcher("core.view")),q,w,x,
B,z,n,A;t.setup=function(){if(n){n.setup();try{q.addEventListener("keydown",l)}catch(E){q.attachEvent("onkeydown",l)}t.dispatchEvent(h.SLICEASE_READY)}else t.dispatchEvent(h.SLICEASE_SETUP_ERROR,{message:"Render not available!",name:g.config.render.name})};t.resize=function(a,b){n&&n.resize(a,b);A&&A.resize(a,b)};t.destroy=function(){if(q)try{q.removeEventListener("keydown",l)}catch(E){q.detachEvent("onkeydown",l)}n&&n.destroy()};(function(){q=d.createElement("div","sli-wrapper,sli-skin-"+g.config.skin.name);
q.id=c.id;q.tabIndex=0;w=d.createElement("div","sli-render");x=d.createElement("div","sli-poster");B=d.createElement("div","sli-controls");z=d.createElement("div","sli-contextmenu");q.appendChild(w);q.appendChild(x);q.appendChild(B);q.appendChild(z);b();f();var a=document.getElementById(c.id);a.parentNode.replaceChild(q,a);window.onresize=function(){"function"===d.typeOf(g.config.onresize)&&g.config.onresize.call(null)}})()}})(slicease);
(function(c){var d=c.utils,h=c.events;c=c.core;var a=c.states;c.controller=function(c,f){function g(a){b.next()}var b=d.extend(this,new h.eventdispatcher("core.controller")),k=!1,l=-1,r;b.play=function(a){void 0===a?b.next():(l=Math.min(Math.max(a,0),c.config.sources.length-1),f.render.play(l))};b.stop=function(){_loader.stop();r&&r.stop();c.setState(a.STOPPED);f.render.stop()};b.prev=function(){0===l--&&(l=c.config.sources.length-1);f.render.play(l)};b.next=function(){l++===c.config.sources.length-
1&&(l=0);f.render.play(l)};c.addEventListener(h.SLICEASE_STATE,function(c){switch(c.state){case a.IDLE:case a.PLAYING:case a.STOPPED:case a.ERROR:b.dispatchEvent(h.SLICEASE_STATE,{state:c.state,index:l});break;default:b.dispatchEvent(h.ERROR,{message:"Unknown model state!",state:c.state})}});f.addEventListener(h.SLICEASE_READY,function(a){k||(k=!0,b.dispatchEvent(a.type,a),b.play(0),window.onbeforeunload=function(a){})});f.addEventListener(h.SLICEASE_SETUP_ERROR,function(d){c.setState(a.ERROR);b.dispatchEvent(d.type,
d)});f.addEventListener(h.SLICEASE_VIEW_PLAY,function(d){c.getState()!==a.PLAYING&&b.play(d.index)});f.addEventListener(h.SLICEASE_VIEW_STOP,function(a){b.stop()});f.addEventListener(h.SLICEASE_VIEW_PREV,function(a){b.prev()});f.addEventListener(h.SLICEASE_VIEW_NEXT,function(a){b.next()});f.addEventListener(h.SLICEASE_RENDER_UPDATE_START,function(b){d.log("onUpdateStart");c.setState(a.PLAYING)});f.addEventListener(h.SLICEASE_RENDER_UPDATE_END,function(b){d.log("onUpdateEnd");c.setState(a.IDLE);r||
(r=new d.timer(c.config.interval,1),r.addEventListener(h.SLICEASE_TIMER,g));r.reset();r.start()});f.addEventListener(h.SLICEASE_RENDER_ERROR,function(d){c.setState(a.ERROR);b.dispatchEvent(d.type,d)})}})(slicease);
(function(c){var d=c.utils,h=c.events,a=c.embed=function(k){function f(a){switch(a.type){case h.ERROR:case h.SLICEASE_SETUP_ERROR:case h.SLICEASE_RENDER_ERROR:g.errorScreen(a.message);g.dispatchEvent(h.ERROR,a);break;default:g.dispatchEvent(a.type,a)}}var g=d.extend(this,new h.eventdispatcher("embed")),b={},p=null,l=!1;g.embed=function(){try{b=new a.config(k.config),p=new a.embedder(k,b)}catch(r){d.log("Failed to init embedder!");g.dispatchEvent(h.SLICEASE_SETUP_ERROR,{message:"Failed to init embedder!",
render:b.render.name});return}p.addGlobalListener(f);p.embed()};g.errorScreen=function(a){l||(l=!0,c.api.displayError(a,b))};(function(){d.foreach(k.config.events,function(a,b){a=k[a];"function"===d.typeOf(a)&&a.call(k,b)})})()}})(slicease);
(function(c){var d=c.utils,h=c.embed;c=c.core;var a=c.renders,k=a.precisions,f=a.modes,g=c.skins.modes;h.config=function(a){return d.extend({},{width:640,height:360,sources:[],range:"3-10",controls:!0,interval:5E3,render:{name:f.DEFAULT,precision:k.HIGH_P},skin:{name:g.DEFAULT}},a)};h.config.addConfig=function(a,c){return d.extend(a,c)}})(slicease);
(function(c){var d=c.utils,h=c.events,a=c.core;c.embed.embedder=function(c,f){function g(a){b.dispatchEvent(a.type,a)}var b=d.extend(this,new h.eventdispatcher("embed.embedder"));b.embed=function(){var b=new a.entity(f);b.addGlobalListener(g);b.setup();c.setEntity(b,f.render.name)}}})(slicease);